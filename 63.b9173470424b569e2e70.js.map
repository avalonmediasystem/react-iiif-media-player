{"version":3,"sources":["webpack:///./node_modules/iiif-explorer/dist/esm-es5/ion-router.entry.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/helpers-b7c9db54.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","generatePath","segments","filter","join","parsePath","path","split","map","trim","writeNavState","root","chain","direction","index","changed","outlet","route","e_1","_a","searchNavNode","componentOnReady","setRouteId","id","params","element","markVisible","console","error","QUERY","matches","querySelector","undefined","routeRedirect","routes","find","input","from","to","expected","matchesRedirect","matchesIDs","ids","len","Math","min","toLowerCase","matchesPath","inputPath","allparams","RouterSegments","matchesDefault","_i","path_1","segment","data","slice","mergeParams","b","Object","assign","computePriority","score","level","chain_2","_b","pow","prototype","shift","readRedirects","children","el","tagName","readProp","readRoutes","flattenRouterTree","readRouteNodes","node","component","Error","componentProps","prop","hasAttribute","getAttribute","nodes","nodes_1","flattenNode","sub","Router","class_1","hostRef","previousPath","busy","state","lastState","useHash","ionRouteWillChange","ionRouteDidChange","componentWillLoad","debug","document","window","addEventListener","once","onRoutesChanged","componentDidLoad","onRedirectChanged","bind","onPopState","historyDirection","getPath","writeNavStateRoot","onBackButton","ev","_this","detail","register","back","url","startsWith","URL","location","href","pathname","setPath","history","waitPromise","printDebug","group","_loop_1","forEach","routes_1","groupEnd","printRoutes","redirects","redirects_1","redirect","printRedirects","navChanged","warn","getRouteId","chains","match","maxMatches","plainIDs","chains_1","routerIDsToChain","chain_1","param","chainToPath","safeWriteNavState","win","replaceState","title","redirectFrom","chains_2","matchedChain","routerPathToChain","unlock","e_2","lock","p","routeEvent","routeChangeEvent","emit","pushState","writePath","loc","hash","prefix","removePrefix","readPath","redirectFromPath","redirectedFrom","defineProperty","get","enumerable","configurable","raf","h","__zone_symbol__requestAnimationFrame","requestAnimationFrame","setTimeout","hasShadowDom","shadowRoot","attachShadow","findItemLabel","componentEl","itemEl","closest","renderHiddenInput","always","container","name","disabled","ownerDocument","createElement","type","classList","add","appendChild","clamp","max","assert","actual","reason","message","now","timeStamp","Date","pointerCoord","changedTouches","touch","x","clientX","clientY","pageX","pageY","isEndSide","side","isRTL","dir","debounceEvent","event","wait","original","_original","debounce","func","timer","args","clearTimeout"],"mappings":"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","file":"63.b9173470424b569e2e70.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { r as registerInstance, c as createEvent, d as getElement } from './core-0428d3c8.js';\r\nimport { e as debounce } from './helpers-b7c9db54.js';\r\nvar ROUTER_INTENT_NONE = 'root';\r\nvar ROUTER_INTENT_FORWARD = 'forward';\r\nvar ROUTER_INTENT_BACK = 'back';\r\nvar generatePath = function (segments) {\r\n    var path = segments\r\n        .filter(function (s) { return s.length > 0; })\r\n        .join('/');\r\n    return '/' + path;\r\n};\r\nvar chainToPath = function (chain) {\r\n    var path = [];\r\n    for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\r\n        var route = chain_1[_i];\r\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\r\n            var segment = _b[_a];\r\n            if (segment[0] === ':') {\r\n                var param = route.params && route.params[segment.slice(1)];\r\n                if (!param) {\r\n                    return null;\r\n                }\r\n                path.push(param);\r\n            }\r\n            else if (segment !== '') {\r\n                path.push(segment);\r\n            }\r\n        }\r\n    }\r\n    return path;\r\n};\r\nvar writePath = function (history, root, useHash, path, direction, state) {\r\n    var url = generatePath(__spreadArrays(parsePath(root), path));\r\n    if (useHash) {\r\n        url = '#' + url;\r\n    }\r\n    if (direction === ROUTER_INTENT_FORWARD) {\r\n        history.pushState(state, '', url);\r\n    }\r\n    else {\r\n        history.replaceState(state, '', url);\r\n    }\r\n};\r\nvar removePrefix = function (prefix, path) {\r\n    if (prefix.length > path.length) {\r\n        return null;\r\n    }\r\n    if (prefix.length <= 1 && prefix[0] === '') {\r\n        return path;\r\n    }\r\n    for (var i = 0; i < prefix.length; i++) {\r\n        if (prefix[i].length > 0 && prefix[i] !== path[i]) {\r\n            return null;\r\n        }\r\n    }\r\n    if (path.length === prefix.length) {\r\n        return [''];\r\n    }\r\n    return path.slice(prefix.length);\r\n};\r\nvar readPath = function (loc, root, useHash) {\r\n    var pathname = loc.pathname;\r\n    if (useHash) {\r\n        var hash = loc.hash;\r\n        pathname = (hash[0] === '#')\r\n            ? hash.slice(1)\r\n            : '';\r\n    }\r\n    var prefix = parsePath(root);\r\n    var path = parsePath(pathname);\r\n    return removePrefix(prefix, path);\r\n};\r\nvar parsePath = function (path) {\r\n    if (path == null) {\r\n        return [''];\r\n    }\r\n    var segments = path.split('/')\r\n        .map(function (s) { return s.trim(); })\r\n        .filter(function (s) { return s.length > 0; });\r\n    if (segments.length === 0) {\r\n        return [''];\r\n    }\r\n    else {\r\n        return segments;\r\n    }\r\n};\r\nvar printRoutes = function (routes) {\r\n    console.group(\"[ion-core] ROUTES[\" + routes.length + \"]\");\r\n    var _loop_1 = function (chain) {\r\n        var path = [];\r\n        chain.forEach(function (r) { return path.push.apply(path, r.path); });\r\n        var ids = chain.map(function (r) { return r.id; });\r\n        console.debug(\"%c \" + generatePath(path), 'font-weight: bold; padding-left: 20px', '=>\\t', \"(\" + ids.join(', ') + \")\");\r\n    };\r\n    for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {\r\n        var chain = routes_1[_i];\r\n        _loop_1(chain);\r\n    }\r\n    console.groupEnd();\r\n};\r\nvar printRedirects = function (redirects) {\r\n    console.group(\"[ion-core] REDIRECTS[\" + redirects.length + \"]\");\r\n    for (var _i = 0, redirects_1 = redirects; _i < redirects_1.length; _i++) {\r\n        var redirect = redirects_1[_i];\r\n        if (redirect.to) {\r\n            console.debug('FROM: ', \"$c \" + generatePath(redirect.from), 'font-weight: bold', ' TO: ', \"$c \" + generatePath(redirect.to), 'font-weight: bold');\r\n        }\r\n    }\r\n    console.groupEnd();\r\n};\r\nvar writeNavState = function (root, chain, direction, index, changed) {\r\n    if (changed === void 0) { changed = false; }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var outlet, route, result, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 6, , 7]);\r\n                    outlet = searchNavNode(root);\r\n                    // make sure we can continue interacting the DOM, otherwise abort\r\n                    if (index >= chain.length || !outlet) {\r\n                        return [2 /*return*/, changed];\r\n                    }\r\n                    return [4 /*yield*/, outlet.componentOnReady()];\r\n                case 1:\r\n                    _a.sent();\r\n                    route = chain[index];\r\n                    return [4 /*yield*/, outlet.setRouteId(route.id, route.params, direction)];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    // if the outlet changed the page, reset navigation to neutral (no direction)\r\n                    // this means nested outlets will not animate\r\n                    if (result.changed) {\r\n                        direction = ROUTER_INTENT_NONE;\r\n                        changed = true;\r\n                    }\r\n                    return [4 /*yield*/, writeNavState(result.element, chain, direction, index + 1, changed)];\r\n                case 3:\r\n                    // recursively set nested outlets\r\n                    changed = _a.sent();\r\n                    if (!result.markVisible) return [3 /*break*/, 5];\r\n                    return [4 /*yield*/, result.markVisible()];\r\n                case 4:\r\n                    _a.sent();\r\n                    _a.label = 5;\r\n                case 5: return [2 /*return*/, changed];\r\n                case 6:\r\n                    e_1 = _a.sent();\r\n                    console.error(e_1);\r\n                    return [2 /*return*/, false];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\nvar readNavState = function (root) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var ids, outlet, node, id;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                ids = [];\r\n                node = root;\r\n                _a.label = 1;\r\n            case 1:\r\n                if (!true) return [3 /*break*/, 5];\r\n                outlet = searchNavNode(node);\r\n                if (!outlet) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, outlet.getRouteId()];\r\n            case 2:\r\n                id = _a.sent();\r\n                if (id) {\r\n                    node = id.element;\r\n                    id.element = undefined;\r\n                    ids.push(id);\r\n                }\r\n                else {\r\n                    return [3 /*break*/, 5];\r\n                }\r\n                return [3 /*break*/, 4];\r\n            case 3: return [3 /*break*/, 5];\r\n            case 4: return [3 /*break*/, 1];\r\n            case 5: return [2 /*return*/, { ids: ids, outlet: outlet }];\r\n        }\r\n    });\r\n}); };\r\nvar waitUntilNavNode = function () {\r\n    if (searchNavNode(document.body)) {\r\n        return Promise.resolve();\r\n    }\r\n    return new Promise(function (resolve) {\r\n        window.addEventListener('ionNavWillLoad', resolve, { once: true });\r\n    });\r\n};\r\nvar QUERY = ':not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet';\r\nvar searchNavNode = function (root) {\r\n    if (!root) {\r\n        return undefined;\r\n    }\r\n    if (root.matches(QUERY)) {\r\n        return root;\r\n    }\r\n    var outlet = root.querySelector(QUERY);\r\n    return outlet ? outlet : undefined;\r\n};\r\nvar matchesRedirect = function (input, route) {\r\n    var from = route.from, to = route.to;\r\n    if (to === undefined) {\r\n        return false;\r\n    }\r\n    if (from.length > input.length) {\r\n        return false;\r\n    }\r\n    for (var i = 0; i < from.length; i++) {\r\n        var expected = from[i];\r\n        if (expected === '*') {\r\n            return true;\r\n        }\r\n        if (expected !== input[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return from.length === input.length;\r\n};\r\nvar routeRedirect = function (path, routes) {\r\n    return routes.find(function (route) { return matchesRedirect(path, route); });\r\n};\r\nvar matchesIDs = function (ids, chain) {\r\n    var len = Math.min(ids.length, chain.length);\r\n    var i = 0;\r\n    for (; i < len; i++) {\r\n        if (ids[i].toLowerCase() !== chain[i].id) {\r\n            break;\r\n        }\r\n    }\r\n    return i;\r\n};\r\nvar matchesPath = function (inputPath, chain) {\r\n    var segments = new RouterSegments(inputPath);\r\n    var matchesDefault = false;\r\n    var allparams;\r\n    for (var i = 0; i < chain.length; i++) {\r\n        var path = chain[i].path;\r\n        if (path[0] === '') {\r\n            matchesDefault = true;\r\n        }\r\n        else {\r\n            for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\r\n                var segment = path_1[_i];\r\n                var data = segments.next();\r\n                // data param\r\n                if (segment[0] === ':') {\r\n                    if (data === '') {\r\n                        return null;\r\n                    }\r\n                    allparams = allparams || [];\r\n                    var params = allparams[i] || (allparams[i] = {});\r\n                    params[segment.slice(1)] = data;\r\n                }\r\n                else if (data !== segment) {\r\n                    return null;\r\n                }\r\n            }\r\n            matchesDefault = false;\r\n        }\r\n    }\r\n    var matches = (matchesDefault)\r\n        ? matchesDefault === (segments.next() === '')\r\n        : true;\r\n    if (!matches) {\r\n        return null;\r\n    }\r\n    if (allparams) {\r\n        return chain.map(function (route, i) { return ({\r\n            id: route.id,\r\n            path: route.path,\r\n            params: mergeParams(route.params, allparams[i])\r\n        }); });\r\n    }\r\n    return chain;\r\n};\r\nvar mergeParams = function (a, b) {\r\n    if (!a && b) {\r\n        return b;\r\n    }\r\n    else if (a && !b) {\r\n        return a;\r\n    }\r\n    else if (a && b) {\r\n        return Object.assign(Object.assign({}, a), b);\r\n    }\r\n    return undefined;\r\n};\r\nvar routerIDsToChain = function (ids, chains) {\r\n    var match = null;\r\n    var maxMatches = 0;\r\n    var plainIDs = ids.map(function (i) { return i.id; });\r\n    for (var _i = 0, chains_1 = chains; _i < chains_1.length; _i++) {\r\n        var chain = chains_1[_i];\r\n        var score = matchesIDs(plainIDs, chain);\r\n        if (score > maxMatches) {\r\n            match = chain;\r\n            maxMatches = score;\r\n        }\r\n    }\r\n    if (match) {\r\n        return match.map(function (route, i) { return ({\r\n            id: route.id,\r\n            path: route.path,\r\n            params: mergeParams(route.params, ids[i] && ids[i].params)\r\n        }); });\r\n    }\r\n    return null;\r\n};\r\nvar routerPathToChain = function (path, chains) {\r\n    var match = null;\r\n    var matches = 0;\r\n    for (var _i = 0, chains_2 = chains; _i < chains_2.length; _i++) {\r\n        var chain = chains_2[_i];\r\n        var matchedChain = matchesPath(path, chain);\r\n        if (matchedChain !== null) {\r\n            var score = computePriority(matchedChain);\r\n            if (score > matches) {\r\n                matches = score;\r\n                match = matchedChain;\r\n            }\r\n        }\r\n    }\r\n    return match;\r\n};\r\nvar computePriority = function (chain) {\r\n    var score = 1;\r\n    var level = 1;\r\n    for (var _i = 0, chain_2 = chain; _i < chain_2.length; _i++) {\r\n        var route = chain_2[_i];\r\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\r\n            var path = _b[_a];\r\n            if (path[0] === ':') {\r\n                score += Math.pow(1, level);\r\n            }\r\n            else if (path !== '') {\r\n                score += Math.pow(2, level);\r\n            }\r\n            level++;\r\n        }\r\n    }\r\n    return score;\r\n};\r\nvar RouterSegments = /** @class */ (function () {\r\n    function RouterSegments(path) {\r\n        this.path = path.slice();\r\n    }\r\n    RouterSegments.prototype.next = function () {\r\n        if (this.path.length > 0) {\r\n            return this.path.shift();\r\n        }\r\n        return '';\r\n    };\r\n    return RouterSegments;\r\n}());\r\nvar readRedirects = function (root) {\r\n    return Array.from(root.children)\r\n        .filter(function (el) { return el.tagName === 'ION-ROUTE-REDIRECT'; })\r\n        .map(function (el) {\r\n        var to = readProp(el, 'to');\r\n        return {\r\n            from: parsePath(readProp(el, 'from')),\r\n            to: to == null ? undefined : parsePath(to),\r\n        };\r\n    });\r\n};\r\nvar readRoutes = function (root) {\r\n    return flattenRouterTree(readRouteNodes(root));\r\n};\r\nvar readRouteNodes = function (root, node) {\r\n    if (node === void 0) { node = root; }\r\n    return Array.from(node.children)\r\n        .filter(function (el) { return el.tagName === 'ION-ROUTE' && el.component; })\r\n        .map(function (el) {\r\n        var component = readProp(el, 'component');\r\n        if (component == null) {\r\n            throw new Error('component missing in ion-route');\r\n        }\r\n        return {\r\n            path: parsePath(readProp(el, 'url')),\r\n            id: component.toLowerCase(),\r\n            params: el.componentProps,\r\n            children: readRouteNodes(root, el)\r\n        };\r\n    });\r\n};\r\nvar readProp = function (el, prop) {\r\n    if (prop in el) {\r\n        return el[prop];\r\n    }\r\n    if (el.hasAttribute(prop)) {\r\n        return el.getAttribute(prop);\r\n    }\r\n    return null;\r\n};\r\nvar flattenRouterTree = function (nodes) {\r\n    var routes = [];\r\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\r\n        var node = nodes_1[_i];\r\n        flattenNode([], routes, node);\r\n    }\r\n    return routes;\r\n};\r\nvar flattenNode = function (chain, routes, node) {\r\n    var s = chain.slice();\r\n    s.push({\r\n        id: node.id,\r\n        path: node.path,\r\n        params: node.params\r\n    });\r\n    if (node.children.length === 0) {\r\n        routes.push(s);\r\n        return;\r\n    }\r\n    for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\r\n        var sub = _a[_i];\r\n        flattenNode(s, routes, sub);\r\n    }\r\n};\r\nvar Router = /** @class */ (function () {\r\n    function class_1(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        this.previousPath = null;\r\n        this.busy = false;\r\n        this.state = 0;\r\n        this.lastState = 0;\r\n        /**\r\n         * By default `ion-router` will match the routes at the root path (\"/\").\r\n         * That can be changed when\r\n         *\r\n         */\r\n        this.root = '/';\r\n        /**\r\n         * The router can work in two \"modes\":\r\n         * - With hash: `/index.html#/path/to/page`\r\n         * - Without hash: `/path/to/page`\r\n         *\r\n         * Using one or another might depend in the requirements of your app and/or where it's deployed.\r\n         *\r\n         * Usually \"hash-less\" navigation works better for SEO and it's more user friendly too, but it might\r\n         * requires additional server-side configuration in order to properly work.\r\n         *\r\n         * On the otherside hash-navigation is much easier to deploy, it even works over the file protocol.\r\n         *\r\n         * By default, this property is `true`, change to `false` to allow hash-less URLs.\r\n         */\r\n        this.useHash = true;\r\n        this.ionRouteWillChange = createEvent(this, \"ionRouteWillChange\", 7);\r\n        this.ionRouteDidChange = createEvent(this, \"ionRouteDidChange\", 7);\r\n    }\r\n    class_1.prototype.componentWillLoad = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.debug('[ion-router] router will load');\r\n                        return [4 /*yield*/, waitUntilNavNode()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        console.debug('[ion-router] found nav');\r\n                        return [4 /*yield*/, this.onRoutesChanged()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.componentDidLoad = function () {\r\n        window.addEventListener('ionRouteRedirectChanged', debounce(this.onRedirectChanged.bind(this), 10));\r\n        window.addEventListener('ionRouteDataChanged', debounce(this.onRoutesChanged.bind(this), 100));\r\n    };\r\n    class_1.prototype.onPopState = function () {\r\n        var direction = this.historyDirection();\r\n        var path = this.getPath();\r\n        console.debug('[ion-router] URL changed -> update nav', path, direction);\r\n        return this.writeNavStateRoot(path, direction);\r\n    };\r\n    class_1.prototype.onBackButton = function (ev) {\r\n        var _this = this;\r\n        ev.detail.register(0, function () { return _this.back(); });\r\n    };\r\n    /**\r\n     * Navigate to the specified URL.\r\n     *\r\n     * @param url The url to navigate to.\r\n     * @param direction The direction of the animation. Defaults to `\"forward\"`.\r\n     */\r\n    class_1.prototype.push = function (url, direction) {\r\n        if (direction === void 0) { direction = 'forward'; }\r\n        if (url.startsWith('.')) {\r\n            url = (new URL(url, window.location.href)).pathname;\r\n        }\r\n        console.debug('[ion-router] URL pushed -> updating nav', url, direction);\r\n        var path = parsePath(url);\r\n        this.setPath(path, direction);\r\n        return this.writeNavStateRoot(path, direction);\r\n    };\r\n    /**\r\n     * Go back to previous page in the window.history.\r\n     */\r\n    class_1.prototype.back = function () {\r\n        window.history.back();\r\n        return Promise.resolve(this.waitPromise);\r\n    };\r\n    /** @internal */\r\n    class_1.prototype.printDebug = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                console.debug('CURRENT PATH', this.getPath());\r\n                console.debug('PREVIOUS PATH', this.previousPath);\r\n                printRoutes(readRoutes(this.el));\r\n                printRedirects(readRedirects(this.el));\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /** @internal */\r\n    class_1.prototype.navChanged = function (direction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, ids, outlet, routes, chain, path;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (this.busy) {\r\n                            console.warn('[ion-router] router is busy, navChanged was cancelled');\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [4 /*yield*/, readNavState(window.document.body)];\r\n                    case 1:\r\n                        _a = _b.sent(), ids = _a.ids, outlet = _a.outlet;\r\n                        routes = readRoutes(this.el);\r\n                        chain = routerIDsToChain(ids, routes);\r\n                        if (!chain) {\r\n                            console.warn('[ion-router] no matching URL for ', ids.map(function (i) { return i.id; }));\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        path = chainToPath(chain);\r\n                        if (!path) {\r\n                            console.warn('[ion-router] router could not match path because some required param is missing');\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        console.debug('[ion-router] nav changed -> update URL', ids, path);\r\n                        this.setPath(path, direction);\r\n                        return [4 /*yield*/, this.safeWriteNavState(outlet, chain, ROUTER_INTENT_NONE, path, null, ids.length)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/, true];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.onRedirectChanged = function () {\r\n        var path = this.getPath();\r\n        if (path && routeRedirect(path, readRedirects(this.el))) {\r\n            this.writeNavStateRoot(path, ROUTER_INTENT_NONE);\r\n        }\r\n    };\r\n    class_1.prototype.onRoutesChanged = function () {\r\n        return this.writeNavStateRoot(this.getPath(), ROUTER_INTENT_NONE);\r\n    };\r\n    class_1.prototype.historyDirection = function () {\r\n        var win = window;\r\n        if (win.history.state === null) {\r\n            this.state++;\r\n            win.history.replaceState(this.state, win.document.title, win.document.location && win.document.location.href);\r\n        }\r\n        var state = win.history.state;\r\n        var lastState = this.lastState;\r\n        this.lastState = state;\r\n        if (state > lastState) {\r\n            return ROUTER_INTENT_FORWARD;\r\n        }\r\n        else if (state < lastState) {\r\n            return ROUTER_INTENT_BACK;\r\n        }\r\n        else {\r\n            return ROUTER_INTENT_NONE;\r\n        }\r\n    };\r\n    class_1.prototype.writeNavStateRoot = function (path, direction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var redirects, redirect, redirectFrom, routes, chain;\r\n            return __generator(this, function (_a) {\r\n                if (!path) {\r\n                    console.error('[ion-router] URL is not part of the routing set');\r\n                    return [2 /*return*/, false];\r\n                }\r\n                redirects = readRedirects(this.el);\r\n                redirect = routeRedirect(path, redirects);\r\n                redirectFrom = null;\r\n                if (redirect) {\r\n                    this.setPath(redirect.to, direction);\r\n                    redirectFrom = redirect.from;\r\n                    path = redirect.to;\r\n                }\r\n                routes = readRoutes(this.el);\r\n                chain = routerPathToChain(path, routes);\r\n                if (!chain) {\r\n                    console.error('[ion-router] the path does not match any route');\r\n                    return [2 /*return*/, false];\r\n                }\r\n                // write DOM give\r\n                return [2 /*return*/, this.safeWriteNavState(document.body, chain, direction, path, redirectFrom)];\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.safeWriteNavState = function (node, chain, direction, path, redirectFrom, index) {\r\n        if (index === void 0) { index = 0; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var unlock, changed, e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.lock()];\r\n                    case 1:\r\n                        unlock = _a.sent();\r\n                        changed = false;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4 /*yield*/, this.writeNavState(node, chain, direction, path, redirectFrom, index)];\r\n                    case 3:\r\n                        changed = _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        e_2 = _a.sent();\r\n                        console.error(e_2);\r\n                        return [3 /*break*/, 5];\r\n                    case 5:\r\n                        unlock();\r\n                        return [2 /*return*/, changed];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.lock = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var p, resolve;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        p = this.waitPromise;\r\n                        this.waitPromise = new Promise(function (r) { return resolve = r; });\r\n                        if (!(p !== undefined)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, p];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, resolve];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.writeNavState = function (node, chain, direction, path, redirectFrom, index) {\r\n        if (index === void 0) { index = 0; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var routeEvent, changed;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.busy) {\r\n                            console.warn('[ion-router] router is busy, transition was cancelled');\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        this.busy = true;\r\n                        routeEvent = this.routeChangeEvent(path, redirectFrom);\r\n                        if (routeEvent) {\r\n                            this.ionRouteWillChange.emit(routeEvent);\r\n                        }\r\n                        return [4 /*yield*/, writeNavState(node, chain, direction, index)];\r\n                    case 1:\r\n                        changed = _a.sent();\r\n                        this.busy = false;\r\n                        if (changed) {\r\n                            console.debug('[ion-router] route changed', path);\r\n                        }\r\n                        // emit did change\r\n                        if (routeEvent) {\r\n                            this.ionRouteDidChange.emit(routeEvent);\r\n                        }\r\n                        return [2 /*return*/, changed];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.setPath = function (path, direction) {\r\n        this.state++;\r\n        writePath(window.history, this.root, this.useHash, path, direction, this.state);\r\n    };\r\n    class_1.prototype.getPath = function () {\r\n        return readPath(window.location, this.root, this.useHash);\r\n    };\r\n    class_1.prototype.routeChangeEvent = function (path, redirectFromPath) {\r\n        var from = this.previousPath;\r\n        var to = generatePath(path);\r\n        this.previousPath = to;\r\n        if (to === from) {\r\n            return null;\r\n        }\r\n        var redirectedFrom = redirectFromPath ? generatePath(redirectFromPath) : null;\r\n        return {\r\n            from: from,\r\n            redirectedFrom: redirectedFrom,\r\n            to: to,\r\n        };\r\n    };\r\n    Object.defineProperty(class_1.prototype, \"el\", {\r\n        get: function () { return getElement(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_1;\r\n}());\r\nexport { Router as ion_router };\r\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n/**\r\n * Patched version of requestAnimationFrame that avoids ngzone\r\n * Use only when you know ngzone should not run\r\n */\r\nvar raf = function (h) {\r\n    if (typeof __zone_symbol__requestAnimationFrame === 'function') {\r\n        return __zone_symbol__requestAnimationFrame(h);\r\n    }\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        return requestAnimationFrame(h);\r\n    }\r\n    return setTimeout(h);\r\n};\r\nvar hasShadowDom = function (el) {\r\n    return !!el.shadowRoot && !!el.attachShadow;\r\n};\r\nvar findItemLabel = function (componentEl) {\r\n    var itemEl = componentEl.closest('ion-item');\r\n    if (itemEl) {\r\n        return itemEl.querySelector('ion-label');\r\n    }\r\n    return null;\r\n};\r\nvar renderHiddenInput = function (always, container, name, value, disabled) {\r\n    if (always || hasShadowDom(container)) {\r\n        var input = container.querySelector('input.aux-input');\r\n        if (!input) {\r\n            input = container.ownerDocument.createElement('input');\r\n            input.type = 'hidden';\r\n            input.classList.add('aux-input');\r\n            container.appendChild(input);\r\n        }\r\n        input.disabled = disabled;\r\n        input.name = name;\r\n        input.value = value || '';\r\n    }\r\n};\r\nvar clamp = function (min, n, max) {\r\n    return Math.max(min, Math.min(n, max));\r\n};\r\nvar assert = function (actual, reason) {\r\n    if (!actual) {\r\n        var message = 'ASSERT: ' + reason;\r\n        console.error(message);\r\n        debugger; // tslint:disable-line\r\n        throw new Error(message);\r\n    }\r\n};\r\nvar now = function (ev) {\r\n    return ev.timeStamp || Date.now();\r\n};\r\nvar pointerCoord = function (ev) {\r\n    // get X coordinates for either a mouse click\r\n    // or a touch depending on the given event\r\n    if (ev) {\r\n        var changedTouches = ev.changedTouches;\r\n        if (changedTouches && changedTouches.length > 0) {\r\n            var touch = changedTouches[0];\r\n            return { x: touch.clientX, y: touch.clientY };\r\n        }\r\n        if (ev.pageX !== undefined) {\r\n            return { x: ev.pageX, y: ev.pageY };\r\n        }\r\n    }\r\n    return { x: 0, y: 0 };\r\n};\r\n/**\r\n * @hidden\r\n * Given a side, return if it should be on the end\r\n * based on the value of dir\r\n * @param side the side\r\n * @param isRTL whether the application dir is rtl\r\n */\r\nvar isEndSide = function (side) {\r\n    var isRTL = document.dir === 'rtl';\r\n    switch (side) {\r\n        case 'start': return isRTL;\r\n        case 'end': return !isRTL;\r\n        default:\r\n            throw new Error(\"\\\"\" + side + \"\\\" is not a valid value for [side]. Use \\\"start\\\" or \\\"end\\\" instead.\");\r\n    }\r\n};\r\nvar debounceEvent = function (event, wait) {\r\n    var original = event._original || event;\r\n    return {\r\n        _original: event,\r\n        emit: debounce(original.emit.bind(original), wait)\r\n    };\r\n};\r\nvar debounce = function (func, wait) {\r\n    if (wait === void 0) { wait = 0; }\r\n    var timer;\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        clearTimeout(timer);\r\n        timer = setTimeout.apply(void 0, __spreadArrays([func, wait], args));\r\n    };\r\n};\r\nexport { renderHiddenInput as a, assert as b, clamp as c, debounceEvent as d, debounce as e, findItemLabel as f, hasShadowDom as h, isEndSide as i, now as n, pointerCoord as p, raf as r };\r\n"],"sourceRoot":""}