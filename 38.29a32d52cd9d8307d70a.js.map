{"version":3,"sources":["webpack:///./node_modules/iiif-explorer/dist/esm-es5/ion-select-popover.entry.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/hardware-back-button-d00923be.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/overlays-c3bbdd4c.js"],"names":["SelectPopover","hostRef","this","options","prototype","onSelect","ev","option","find","o","value","target","handler","render","checkedOption","checked","checkedValue","undefined","class","header","subHeader","message","map","text","disabled","Object","defineProperty","get","enumerable","configurable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","startHardwareBackButton","doc","document","busy","addEventListener","handlers","CustomEvent","bubbles","detail","register","priority","dispatchEvent","selectedHandler_1","selectedPriority_1","Number","MIN_SAFE_INTEGER","forEach","_a","executeAction","e_1","console","error","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY","__spreadArrays","s","i","il","arguments","r","Array","k","a","j","jl","lastId","activeAnimations","WeakMap","createController","tagName","create","createOverlay","dismiss","data","role","id","dismissOverlay","getTop","getOverlay","alertController","actionSheetController","pickerController","popoverController","prepareOverlay","el","connectListeners","overlayIndex","hasAttribute","opts","customElements","whenDefined","element","createElement","classList","add","assign","getAppRoot","appendChild","componentOnReady","lastOverlay","backdropDismiss","isDescendant","firstInput","querySelector","focus","BACKDROP","key","overlayTag","overlay","overlays","selector","from","querySelectorAll","filter","c","getOverlays","present","name","iosEnterAnimation","mdEnterAnimation","animationBuilder","presented","willPresent","emit","enterAnimation","mode","overlayAnimation","didPresent","iosLeaveAnimation","mdLeaveAnimation","err_1","willDismiss","leaveAnimation","didDismiss","delete","remove","baseEl","aniRoot","animation","activeAni","shadowRoot","animated","getBoolean","duration","keyboardClose","beforeAddWrite","activeElement","ownerDocument","matches","blur","set","play","eventMethod","eventName","promise","onceEvent","event","callback","removeEventListener","isCancel","parent","child","parentElement","defaultGate","h","safeCall","arg","jmp"],"mappings":"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","file":"38.29a32d52cd9d8307d70a.js","sourcesContent":["import { r as registerInstance, h, e as getIonMode, H as Host } from './core-0428d3c8.js';\r\nimport './hardware-back-button-d00923be.js';\r\nimport { s as safeCall } from './overlays-c3bbdd4c.js';\r\nvar SelectPopover = /** @class */ (function () {\r\n    function SelectPopover(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        /** Array of options for the popover */\r\n        this.options = [];\r\n    }\r\n    SelectPopover.prototype.onSelect = function (ev) {\r\n        var option = this.options.find(function (o) { return o.value === ev.target.value; });\r\n        if (option) {\r\n            safeCall(option.handler);\r\n        }\r\n    };\r\n    SelectPopover.prototype.render = function () {\r\n        var checkedOption = this.options.find(function (o) { return o.checked; });\r\n        var checkedValue = checkedOption ? checkedOption.value : undefined;\r\n        return (h(Host, { class: getIonMode(this) }, h(\"ion-list\", null, this.header !== undefined && h(\"ion-list-header\", null, this.header), (this.subHeader !== undefined || this.message !== undefined) &&\r\n            h(\"ion-item\", null, h(\"ion-label\", { class: \"ion-text-wrap\" }, this.subHeader !== undefined && h(\"h3\", null, this.subHeader), this.message !== undefined && h(\"p\", null, this.message))), h(\"ion-radio-group\", { value: checkedValue }, this.options.map(function (option) { return h(\"ion-item\", null, h(\"ion-label\", null, option.text), h(\"ion-radio\", { value: option.value, disabled: option.disabled })); })))));\r\n    };\r\n    Object.defineProperty(SelectPopover, \"style\", {\r\n        get: function () { return \".sc-ion-select-popover-h ion-list.sc-ion-select-popover{margin-left:0;margin-right:0;margin-top:-1px;margin-bottom:-1px}.sc-ion-select-popover-h ion-label.sc-ion-select-popover, .sc-ion-select-popover-h ion-list-header.sc-ion-select-popover{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SelectPopover;\r\n}());\r\nexport { SelectPopover as ion_select_popover };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar startHardwareBackButton = function () {\r\n    var doc = document;\r\n    var busy = false;\r\n    doc.addEventListener('backbutton', function () {\r\n        if (busy) {\r\n            return;\r\n        }\r\n        var handlers = [];\r\n        var ev = new CustomEvent('ionBackButton', {\r\n            bubbles: false,\r\n            detail: {\r\n                register: function (priority, handler) {\r\n                    handlers.push({ priority: priority, handler: handler });\r\n                }\r\n            }\r\n        });\r\n        doc.dispatchEvent(ev);\r\n        if (handlers.length > 0) {\r\n            var selectedPriority_1 = Number.MIN_SAFE_INTEGER;\r\n            var selectedHandler_1;\r\n            handlers.forEach(function (_a) {\r\n                var priority = _a.priority, handler = _a.handler;\r\n                if (priority >= selectedPriority_1) {\r\n                    selectedPriority_1 = priority;\r\n                    selectedHandler_1 = handler;\r\n                }\r\n            });\r\n            busy = true;\r\n            executeAction(selectedHandler_1).then(function () { return busy = false; });\r\n        }\r\n    });\r\n};\r\nvar executeAction = function (handler) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result, e_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 3, , 4]);\r\n                if (!handler) return [3 /*break*/, 2];\r\n                result = handler();\r\n                if (!(result != null)) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, result];\r\n            case 1:\r\n                _a.sent();\r\n                _a.label = 2;\r\n            case 2: return [3 /*break*/, 4];\r\n            case 3:\r\n                e_1 = _a.sent();\r\n                console.error(e_1);\r\n                return [3 /*break*/, 4];\r\n            case 4: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\r\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\r\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { j as config } from './core-0428d3c8.js';\r\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button-d00923be.js';\r\nvar lastId = 0;\r\nvar activeAnimations = new WeakMap();\r\nvar createController = function (tagName) {\r\n    return {\r\n        create: function (options) {\r\n            return createOverlay(tagName, options);\r\n        },\r\n        dismiss: function (data, role, id) {\r\n            return dismissOverlay(document, data, role, tagName, id);\r\n        },\r\n        getTop: function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2 /*return*/, getOverlay(document, tagName)];\r\n                });\r\n            });\r\n        }\r\n    };\r\n};\r\nvar alertController = /*@__PURE__*/ createController('ion-alert');\r\nvar actionSheetController = /*@__PURE__*/ createController('ion-action-sheet');\r\nvar pickerController = /*@__PURE__*/ createController('ion-picker');\r\nvar popoverController = /*@__PURE__*/ createController('ion-popover');\r\nvar prepareOverlay = function (el) {\r\n    var doc = document;\r\n    connectListeners(doc);\r\n    var overlayIndex = lastId++;\r\n    el.overlayIndex = overlayIndex;\r\n    if (!el.hasAttribute('id')) {\r\n        el.id = \"ion-overlay-\" + overlayIndex;\r\n    }\r\n};\r\nvar createOverlay = function (tagName, opts) {\r\n    return customElements.whenDefined(tagName).then(function () {\r\n        var doc = document;\r\n        var element = doc.createElement(tagName);\r\n        element.classList.add('overlay-hidden');\r\n        // convert the passed in overlay options into props\r\n        // that get passed down into the new overlay\r\n        Object.assign(element, opts);\r\n        // append the overlay element to the document body\r\n        getAppRoot(doc).appendChild(element);\r\n        return element.componentOnReady();\r\n    });\r\n};\r\nvar connectListeners = function (doc) {\r\n    if (lastId === 0) {\r\n        lastId = 1;\r\n        // trap focus inside overlays\r\n        doc.addEventListener('focusin', function (ev) {\r\n            var lastOverlay = getOverlay(doc);\r\n            if (lastOverlay && lastOverlay.backdropDismiss && !isDescendant(lastOverlay, ev.target)) {\r\n                var firstInput = lastOverlay.querySelector('input,button');\r\n                if (firstInput) {\r\n                    firstInput.focus();\r\n                }\r\n            }\r\n        });\r\n        // handle back-button click\r\n        doc.addEventListener('ionBackButton', function (ev) {\r\n            var lastOverlay = getOverlay(doc);\r\n            if (lastOverlay && lastOverlay.backdropDismiss) {\r\n                ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, function () {\r\n                    return lastOverlay.dismiss(undefined, BACKDROP);\r\n                });\r\n            }\r\n        });\r\n        // handle ESC to close overlay\r\n        doc.addEventListener('keyup', function (ev) {\r\n            if (ev.key === 'Escape') {\r\n                var lastOverlay = getOverlay(doc);\r\n                if (lastOverlay && lastOverlay.backdropDismiss) {\r\n                    lastOverlay.dismiss(undefined, BACKDROP);\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nvar dismissOverlay = function (doc, data, role, overlayTag, id) {\r\n    var overlay = getOverlay(doc, overlayTag, id);\r\n    if (!overlay) {\r\n        return Promise.reject('overlay does not exist');\r\n    }\r\n    return overlay.dismiss(data, role);\r\n};\r\nvar getOverlays = function (doc, selector) {\r\n    if (selector === undefined) {\r\n        selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\r\n    }\r\n    return Array.from(doc.querySelectorAll(selector))\r\n        .filter(function (c) { return c.overlayIndex > 0; });\r\n};\r\nvar getOverlay = function (doc, overlayTag, id) {\r\n    var overlays = getOverlays(doc, overlayTag);\r\n    return (id === undefined)\r\n        ? overlays[overlays.length - 1]\r\n        : overlays.find(function (o) { return o.id === id; });\r\n};\r\nvar present = function (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, completed;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (overlay.presented) {\r\n                    return [2 /*return*/];\r\n                }\r\n                overlay.presented = true;\r\n                overlay.willPresent.emit();\r\n                animationBuilder = (overlay.enterAnimation)\r\n                    ? overlay.enterAnimation\r\n                    : config.get(name, overlay.mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\r\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\r\n            case 1:\r\n                completed = _a.sent();\r\n                if (completed) {\r\n                    overlay.didPresent.emit();\r\n                }\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar dismiss = function (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, err_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (!overlay.presented) {\r\n                    return [2 /*return*/, false];\r\n                }\r\n                overlay.presented = false;\r\n                _a.label = 1;\r\n            case 1:\r\n                _a.trys.push([1, 4, , 5]);\r\n                overlay.willDismiss.emit({ data: data, role: role });\r\n                animationBuilder = (overlay.leaveAnimation)\r\n                    ? overlay.leaveAnimation\r\n                    : config.get(name, overlay.mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\r\n                if (!(role !== 'gesture')) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\r\n            case 2:\r\n                _a.sent();\r\n                _a.label = 3;\r\n            case 3:\r\n                overlay.didDismiss.emit({ data: data, role: role });\r\n                activeAnimations.delete(overlay);\r\n                return [3 /*break*/, 5];\r\n            case 4:\r\n                err_1 = _a.sent();\r\n                console.error(err_1);\r\n                return [3 /*break*/, 5];\r\n            case 5:\r\n                overlay.el.remove();\r\n                return [2 /*return*/, true];\r\n        }\r\n    });\r\n}); };\r\nvar getAppRoot = function (doc) {\r\n    return doc.querySelector('ion-app') || doc.body;\r\n};\r\nvar overlayAnimation = function (overlay, animationBuilder, baseEl, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var aniRoot, animation, activeAni;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                // Make overlay visible in case it's hidden\r\n                baseEl.classList.remove('overlay-hidden');\r\n                aniRoot = baseEl.shadowRoot || overlay.el;\r\n                animation = animationBuilder(aniRoot, opts);\r\n                if (!overlay.animated || !config.getBoolean('animated', true)) {\r\n                    animation.duration(0);\r\n                }\r\n                if (overlay.keyboardClose) {\r\n                    animation.beforeAddWrite(function () {\r\n                        var activeElement = baseEl.ownerDocument.activeElement;\r\n                        if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\r\n                            activeElement.blur();\r\n                        }\r\n                    });\r\n                }\r\n                activeAni = activeAnimations.get(overlay) || [];\r\n                activeAnimations.set(overlay, __spreadArrays(activeAni, [animation]));\r\n                return [4 /*yield*/, animation.play()];\r\n            case 1:\r\n                _a.sent();\r\n                return [2 /*return*/, true];\r\n        }\r\n    });\r\n}); };\r\nvar eventMethod = function (element, eventName) {\r\n    var resolve;\r\n    var promise = new Promise(function (r) { return resolve = r; });\r\n    onceEvent(element, eventName, function (event) {\r\n        resolve(event.detail);\r\n    });\r\n    return promise;\r\n};\r\nvar onceEvent = function (element, eventName, callback) {\r\n    var handler = function (ev) {\r\n        element.removeEventListener(eventName, handler);\r\n        callback(ev);\r\n    };\r\n    element.addEventListener(eventName, handler);\r\n};\r\nvar isCancel = function (role) {\r\n    return role === 'cancel' || role === BACKDROP;\r\n};\r\nvar isDescendant = function (parent, child) {\r\n    while (child) {\r\n        if (child === parent) {\r\n            return true;\r\n        }\r\n        child = child.parentElement;\r\n    }\r\n    return false;\r\n};\r\nvar defaultGate = function (h) { return h(); };\r\nvar safeCall = function (handler, arg) {\r\n    if (typeof handler === 'function') {\r\n        var jmp = config.get('_zoneGate', defaultGate);\r\n        return jmp(function () {\r\n            try {\r\n                return handler(arg);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        });\r\n    }\r\n    return undefined;\r\n};\r\nvar BACKDROP = 'backdrop';\r\nexport { BACKDROP as B, present as a, pickerController as b, activeAnimations as c, dismiss as d, eventMethod as e, popoverController as f, actionSheetController as g, alertController as h, isCancel as i, prepareOverlay as p, safeCall as s };\r\n"],"sourceRoot":""}