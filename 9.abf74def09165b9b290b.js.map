{"version":3,"sources":["webpack:///./node_modules/iiif-explorer/dist/esm-es5/ion-popover-ios.entry.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/theme-215399f6.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/hardware-back-button-d00923be.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/overlays-c3bbdd4c.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/constants-7647fb9e.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/framework-delegate-edc3d751.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/index-4b20f1e1.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","iosEnterAnimation","baseEl","ev","originY","originX","contentEl","querySelector","contentDimentions","getBoundingClientRect","contentWidth","width","contentHeight","height","bodyWidth","ownerDocument","defaultView","innerWidth","bodyHeight","innerHeight","targetDim","target","targetTop","top","targetLeft","left","targetWidth","targetHeight","arrowEl","arrowDim","arrowWidth","arrowHeight","style","display","arrowCSS","popoverCSS","checkSafeAreaLeft","checkSafeAreaRight","POPOVER_IOS_BODY_PADDING","className","bottom","transformOrigin","baseAnimation","backdropAnimation","wrapperAnimation","addElement","fromTo","beforeStyles","afterClearStyles","easing","duration","addAnimation","iosLeaveAnimation","mdEnterAnimation","doc","isRTL","dir","POPOVER_MD_BODY_PADDING","contentAnimation","viewportAnimation","mdLeaveAnimation","Popover","class_1","hostRef","_this","presented","mode","keyboardClose","backdropDismiss","showBackdrop","translucent","animated","onDismiss","stopPropagation","preventDefault","dismiss","onBackdropTap","undefined","onLifecycle","modalEvent","el","usersElement","name","LIFECYCLE_MAP","type","event","CustomEvent","bubbles","cancelable","detail","dispatchEvent","didPresent","willPresent","willDismiss","didDismiss","prototype","present","container","data","_a","_b","Error","Object","assign","componentProps","popover","delegate","component","role","shouldDismiss","onDidDismiss","onWillDismiss","render","zIndex","overlayIndex","class","cssClass","onIonPopoverDidPresent","onIonPopoverWillPresent","onIonPopoverWillDismiss","onIonPopoverDidDismiss","onIonDismiss","onIonBackdropTap","tappable","visible","defineProperty","get","enumerable","configurable","hostContext","selector","closest","createColorClasses","color","getClassMap","classes","map","Array","isArray","split","filter","c","trim","getClassList","forEach","SCHEME","openURL","url","direction","router","test","document","startHardwareBackButton","busy","addEventListener","handlers","register","priority","handler","selectedHandler_1","selectedPriority_1","Number","MIN_SAFE_INTEGER","executeAction","e_1","console","error","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY","__spreadArrays","s","i","il","arguments","r","k","a","j","jl","lastId","activeAnimations","WeakMap","createController","tagName","create","options","createOverlay","id","dismissOverlay","getTop","getOverlay","alertController","actionSheetController","pickerController","popoverController","prepareOverlay","connectListeners","hasAttribute","opts","customElements","whenDefined","element","createElement","classList","add","getAppRoot","appendChild","componentOnReady","lastOverlay","isDescendant","firstInput","focus","BACKDROP","key","overlayTag","overlay","overlays","from","querySelectorAll","getOverlays","find","o","animationBuilder","emit","enterAnimation","overlayAnimation","err_1","leaveAnimation","delete","remove","aniRoot","animation","activeAni","shadowRoot","getBoolean","beforeAddWrite","activeElement","matches","blur","set","play","eventMethod","eventName","promise","onceEvent","callback","removeEventListener","isCancel","parent","child","parentElement","defaultGate","h","safeCall","arg","jmp","LIFECYCLE_WILL_ENTER","LIFECYCLE_DID_ENTER","LIFECYCLE_WILL_LEAVE","LIFECYCLE_DID_LEAVE","LIFECYCLE_WILL_UNLOAD","attachComponent","cssClasses","attachViewToDom","HTMLElement","detachComponent","removeViewFromDom","transition","beforeTransition","runTransition","destroy","afterTransition","enteringEl","leavingEl","setZIndex","showGoBack","setPageHidden","getAnimationBuilder","noAnimation","iosTransitionAnimation","mdTransitionAnimation","trans","didComplete","waitForReady","fireWillEvents","playTransition","progressCallback","fireDidEvents","hasCompleted","defaultDeep","deep","promises","deepWait","deepReady","shallowReady","all","notifyViewReady","viewIsReady","onFinish","currentStep","progressStart","lifecycle","children","hidden","setAttribute","removeAttribute","getIonPageElement","contains","ionPage"],"mappings":"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","file":"9.abf74def09165b9b290b.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { r as registerInstance, e as getIonMode, c as createEvent, h, H as Host, d as getElement } from './core-0428d3c8.js';\r\nimport './helpers-b7c9db54.js';\r\nimport { g as getClassMap } from './theme-215399f6.js';\r\nimport './hardware-back-button-d00923be.js';\r\nimport { B as BACKDROP, p as prepareOverlay, a as present, d as dismiss, e as eventMethod } from './overlays-c3bbdd4c.js';\r\nimport { c as createAnimation } from './animation-2b8428ef.js';\r\nimport { a as attachComponent, d as detachComponent } from './framework-delegate-edc3d751.js';\r\nimport './constants-7647fb9e.js';\r\nimport { d as deepReady } from './index-4b20f1e1.js';\r\n/**\r\n * iOS Popover Enter Animation\r\n */\r\nvar iosEnterAnimation = function (baseEl, ev) {\r\n    var originY = 'top';\r\n    var originX = 'left';\r\n    var contentEl = baseEl.querySelector('.popover-content');\r\n    var contentDimentions = contentEl.getBoundingClientRect();\r\n    var contentWidth = contentDimentions.width;\r\n    var contentHeight = contentDimentions.height;\r\n    var bodyWidth = baseEl.ownerDocument.defaultView.innerWidth;\r\n    var bodyHeight = baseEl.ownerDocument.defaultView.innerHeight;\r\n    // If ev was passed, use that for target element\r\n    var targetDim = ev && ev.target && ev.target.getBoundingClientRect();\r\n    var targetTop = targetDim != null && 'top' in targetDim ? targetDim.top : bodyHeight / 2 - contentHeight / 2;\r\n    var targetLeft = targetDim != null && 'left' in targetDim ? targetDim.left : bodyWidth / 2;\r\n    var targetWidth = (targetDim && targetDim.width) || 0;\r\n    var targetHeight = (targetDim && targetDim.height) || 0;\r\n    var arrowEl = baseEl.querySelector('.popover-arrow');\r\n    var arrowDim = arrowEl.getBoundingClientRect();\r\n    var arrowWidth = arrowDim.width;\r\n    var arrowHeight = arrowDim.height;\r\n    if (targetDim == null) {\r\n        arrowEl.style.display = 'none';\r\n    }\r\n    var arrowCSS = {\r\n        top: targetTop + targetHeight,\r\n        left: targetLeft + targetWidth / 2 - arrowWidth / 2\r\n    };\r\n    var popoverCSS = {\r\n        top: targetTop + targetHeight + (arrowHeight - 1),\r\n        left: targetLeft + targetWidth / 2 - contentWidth / 2\r\n    };\r\n    // If the popover left is less than the padding it is off screen\r\n    // to the left so adjust it, else if the width of the popover\r\n    // exceeds the body width it is off screen to the right so adjust\r\n    //\r\n    var checkSafeAreaLeft = false;\r\n    var checkSafeAreaRight = false;\r\n    // If the popover left is less than the padding it is off screen\r\n    // to the left so adjust it, else if the width of the popover\r\n    // exceeds the body width it is off screen to the right so adjust\r\n    // 25 is a random/arbitrary number. It seems to work fine for ios11\r\n    // and iPhoneX. Is it perfect? No. Does it work? Yes.\r\n    if (popoverCSS.left < POPOVER_IOS_BODY_PADDING + 25) {\r\n        checkSafeAreaLeft = true;\r\n        popoverCSS.left = POPOVER_IOS_BODY_PADDING;\r\n    }\r\n    else if (contentWidth + POPOVER_IOS_BODY_PADDING + popoverCSS.left + 25 > bodyWidth) {\r\n        // Ok, so we're on the right side of the screen,\r\n        // but now we need to make sure we're still a bit further right\r\n        // cus....notchurally... Again, 25 is random. It works tho\r\n        checkSafeAreaRight = true;\r\n        popoverCSS.left = bodyWidth - contentWidth - POPOVER_IOS_BODY_PADDING;\r\n        originX = 'right';\r\n    }\r\n    // make it pop up if there's room above\r\n    if (targetTop + targetHeight + contentHeight > bodyHeight && targetTop - contentHeight > 0) {\r\n        arrowCSS.top = targetTop - (arrowHeight + 1);\r\n        popoverCSS.top = targetTop - contentHeight - (arrowHeight - 1);\r\n        baseEl.className = baseEl.className + ' popover-bottom';\r\n        originY = 'bottom';\r\n        // If there isn't room for it to pop up above the target cut it off\r\n    }\r\n    else if (targetTop + targetHeight + contentHeight > bodyHeight) {\r\n        contentEl.style.bottom = POPOVER_IOS_BODY_PADDING + '%';\r\n    }\r\n    arrowEl.style.top = arrowCSS.top + 'px';\r\n    arrowEl.style.left = arrowCSS.left + 'px';\r\n    contentEl.style.top = popoverCSS.top + 'px';\r\n    contentEl.style.left = popoverCSS.left + 'px';\r\n    if (checkSafeAreaLeft) {\r\n        contentEl.style.left = \"calc(\" + popoverCSS.left + \"px + var(--ion-safe-area-left, 0px))\";\r\n    }\r\n    if (checkSafeAreaRight) {\r\n        contentEl.style.left = \"calc(\" + popoverCSS.left + \"px - var(--ion-safe-area-right, 0px))\";\r\n    }\r\n    contentEl.style.transformOrigin = originY + ' ' + originX;\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\r\n        .beforeStyles({\r\n        'pointer-events': 'none'\r\n    })\r\n        .afterClearStyles(['pointer-events']);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.popover-wrapper'))\r\n        .fromTo('opacity', 0.01, 1);\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('ease')\r\n        .duration(100)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\nvar POPOVER_IOS_BODY_PADDING = 5;\r\n/**\r\n * iOS Popover Leave Animation\r\n */\r\nvar iosLeaveAnimation = function (baseEl) {\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 'var(--backdrop-opacity)', 0);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.popover-wrapper'))\r\n        .fromTo('opacity', 0.99, 0);\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('ease')\r\n        .duration(500)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\n/**\r\n * Md Popover Enter Animation\r\n */\r\nvar mdEnterAnimation = function (baseEl, ev) {\r\n    var POPOVER_MD_BODY_PADDING = 12;\r\n    var doc = baseEl.ownerDocument;\r\n    var isRTL = doc.dir === 'rtl';\r\n    var originY = 'top';\r\n    var originX = isRTL ? 'right' : 'left';\r\n    var contentEl = baseEl.querySelector('.popover-content');\r\n    var contentDimentions = contentEl.getBoundingClientRect();\r\n    var contentWidth = contentDimentions.width;\r\n    var contentHeight = contentDimentions.height;\r\n    var bodyWidth = doc.defaultView.innerWidth;\r\n    var bodyHeight = doc.defaultView.innerHeight;\r\n    // If ev was passed, use that for target element\r\n    var targetDim = ev && ev.target && ev.target.getBoundingClientRect();\r\n    // As per MD spec, by default position the popover below the target (trigger) element\r\n    var targetTop = targetDim != null && 'bottom' in targetDim\r\n        ? targetDim.bottom\r\n        : bodyHeight / 2 - contentHeight / 2;\r\n    var targetLeft = targetDim != null && 'left' in targetDim\r\n        ? isRTL\r\n            ? targetDim.left - contentWidth + targetDim.width\r\n            : targetDim.left\r\n        : bodyWidth / 2 - contentWidth / 2;\r\n    var targetHeight = (targetDim && targetDim.height) || 0;\r\n    var popoverCSS = {\r\n        top: targetTop,\r\n        left: targetLeft\r\n    };\r\n    // If the popover left is less than the padding it is off screen\r\n    // to the left so adjust it, else if the width of the popover\r\n    // exceeds the body width it is off screen to the right so adjust\r\n    if (popoverCSS.left < POPOVER_MD_BODY_PADDING) {\r\n        popoverCSS.left = POPOVER_MD_BODY_PADDING;\r\n        // Same origin in this case for both LTR & RTL\r\n        // Note: in LTR, originX is already 'left'\r\n        originX = 'left';\r\n    }\r\n    else if (contentWidth + POPOVER_MD_BODY_PADDING + popoverCSS.left >\r\n        bodyWidth) {\r\n        popoverCSS.left = bodyWidth - contentWidth - POPOVER_MD_BODY_PADDING;\r\n        // Same origin in this case for both LTR & RTL\r\n        // Note: in RTL, originX is already 'right'\r\n        originX = 'right';\r\n    }\r\n    // If the popover when popped down stretches past bottom of screen,\r\n    // make it pop up if there's room above\r\n    if (targetTop + targetHeight + contentHeight > bodyHeight &&\r\n        targetTop - contentHeight > 0) {\r\n        popoverCSS.top = targetTop - contentHeight - targetHeight;\r\n        baseEl.className = baseEl.className + ' popover-bottom';\r\n        originY = 'bottom';\r\n        // If there isn't room for it to pop up above the target cut it off\r\n    }\r\n    else if (targetTop + targetHeight + contentHeight > bodyHeight) {\r\n        contentEl.style.bottom = POPOVER_MD_BODY_PADDING + 'px';\r\n    }\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    var contentAnimation = createAnimation();\r\n    var viewportAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\r\n        .beforeStyles({\r\n        'pointer-events': 'none'\r\n    })\r\n        .afterClearStyles(['pointer-events']);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.popover-wrapper'))\r\n        .fromTo('opacity', 0.01, 1);\r\n    contentAnimation\r\n        .addElement(contentEl)\r\n        .beforeStyles({\r\n        'top': popoverCSS.top + \"px\",\r\n        'left': popoverCSS.left + \"px\",\r\n        'transform-origin': originY + \" \" + originX\r\n    })\r\n        .fromTo('transform', 'scale(0.001)', 'scale(1)');\r\n    viewportAnimation\r\n        .addElement(baseEl.querySelector('.popover-viewport'))\r\n        .fromTo('opacity', 0.01, 1);\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('cubic-bezier(0.36,0.66,0.04,1)')\r\n        .duration(300)\r\n        .addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);\r\n};\r\n/**\r\n * Md Popover Leave Animation\r\n */\r\nvar mdLeaveAnimation = function (baseEl) {\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 'var(--backdrop-opacity)', 0);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.popover-wrapper'))\r\n        .fromTo('opacity', 0.99, 0);\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('ease')\r\n        .duration(500)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\nvar Popover = /** @class */ (function () {\r\n    function class_1(hostRef) {\r\n        var _this = this;\r\n        registerInstance(this, hostRef);\r\n        this.presented = false;\r\n        this.mode = getIonMode(this);\r\n        /**\r\n         * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\r\n         */\r\n        this.keyboardClose = true;\r\n        /**\r\n         * If `true`, the popover will be dismissed when the backdrop is clicked.\r\n         */\r\n        this.backdropDismiss = true;\r\n        /**\r\n         * If `true`, a backdrop will be displayed behind the popover.\r\n         */\r\n        this.showBackdrop = true;\r\n        /**\r\n         * If `true`, the popover will be translucent.\r\n         * Only applies when the mode is `\"ios\"` and the device supports\r\n         * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\r\n         */\r\n        this.translucent = false;\r\n        /**\r\n         * If `true`, the popover will animate.\r\n         */\r\n        this.animated = true;\r\n        this.onDismiss = function (ev) {\r\n            ev.stopPropagation();\r\n            ev.preventDefault();\r\n            _this.dismiss();\r\n        };\r\n        this.onBackdropTap = function () {\r\n            _this.dismiss(undefined, BACKDROP);\r\n        };\r\n        this.onLifecycle = function (modalEvent) {\r\n            var el = _this.usersElement;\r\n            var name = LIFECYCLE_MAP[modalEvent.type];\r\n            if (el && name) {\r\n                var event = new CustomEvent(name, {\r\n                    bubbles: false,\r\n                    cancelable: false,\r\n                    detail: modalEvent.detail\r\n                });\r\n                el.dispatchEvent(event);\r\n            }\r\n        };\r\n        prepareOverlay(this.el);\r\n        this.didPresent = createEvent(this, \"ionPopoverDidPresent\", 7);\r\n        this.willPresent = createEvent(this, \"ionPopoverWillPresent\", 7);\r\n        this.willDismiss = createEvent(this, \"ionPopoverWillDismiss\", 7);\r\n        this.didDismiss = createEvent(this, \"ionPopoverDidDismiss\", 7);\r\n    }\r\n    /**\r\n     * Present the popover overlay after it has been created.\r\n     */\r\n    class_1.prototype.present = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var container, data, _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (this.presented) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        container = this.el.querySelector('.popover-content');\r\n                        if (!container) {\r\n                            throw new Error('container is undefined');\r\n                        }\r\n                        data = Object.assign(Object.assign({}, this.componentProps), { popover: this.el });\r\n                        _a = this;\r\n                        return [4 /*yield*/, attachComponent(this.delegate, container, this.component, ['popover-viewport', this.el['s-sc']], data)];\r\n                    case 1:\r\n                        _a.usersElement = _b.sent();\r\n                        return [4 /*yield*/, deepReady(this.usersElement)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/, present(this, 'popoverEnter', iosEnterAnimation, mdEnterAnimation, this.event)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Dismiss the popover overlay after it has been presented.\r\n     *\r\n     * @param data Any data to emit in the dismiss events.\r\n     * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\r\n     */\r\n    class_1.prototype.dismiss = function (data, role) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var shouldDismiss;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, dismiss(this, data, role, 'popoverLeave', iosLeaveAnimation, mdLeaveAnimation, this.event)];\r\n                    case 1:\r\n                        shouldDismiss = _a.sent();\r\n                        if (!shouldDismiss) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, detachComponent(this.delegate, this.usersElement)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/, shouldDismiss];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns a promise that resolves when the popover did dismiss.\r\n     */\r\n    class_1.prototype.onDidDismiss = function () {\r\n        return eventMethod(this.el, 'ionPopoverDidDismiss');\r\n    };\r\n    /**\r\n     * Returns a promise that resolves when the popover will dismiss.\r\n     */\r\n    class_1.prototype.onWillDismiss = function () {\r\n        return eventMethod(this.el, 'ionPopoverWillDismiss');\r\n    };\r\n    class_1.prototype.render = function () {\r\n        var _a;\r\n        var mode = getIonMode(this);\r\n        var onLifecycle = this.onLifecycle;\r\n        return (h(Host, { \"aria-modal\": \"true\", \"no-router\": true, style: {\r\n                zIndex: \"\" + (20000 + this.overlayIndex),\r\n            }, class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), (_a = {}, _a[mode] = true, _a['popover-translucent'] = this.translucent, _a)), onIonPopoverDidPresent: onLifecycle, onIonPopoverWillPresent: onLifecycle, onIonPopoverWillDismiss: onLifecycle, onIonPopoverDidDismiss: onLifecycle, onIonDismiss: this.onDismiss, onIonBackdropTap: this.onBackdropTap }, h(\"ion-backdrop\", { tappable: this.backdropDismiss, visible: this.showBackdrop }), h(\"div\", { class: \"popover-wrapper\" }, h(\"div\", { class: \"popover-arrow\" }), h(\"div\", { class: \"popover-content\" }))));\r\n    };\r\n    Object.defineProperty(class_1.prototype, \"el\", {\r\n        get: function () { return getElement(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(class_1, \"style\", {\r\n        get: function () { return \".sc-ion-popover-ios-h{--background:var(--ion-background-color,#fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:var(--ion-text-color,#000);z-index:1001}.overlay-hidden.sc-ion-popover-ios-h{display:none}.popover-wrapper.sc-ion-popover-ios{opacity:0;z-index:10}.popover-content.sc-ion-popover-ios{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport.sc-ion-popover-ios{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px}.sc-ion-popover-ios-h{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity,0.08)}.popover-content.sc-ion-popover-ios{border-radius:10px}.popover-arrow.sc-ion-popover-ios{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow.sc-ion-popover-ios:after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:\\\"\\\";z-index:10}[dir=rtl].sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios:after, [dir=rtl] .sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios:after, [dir=rtl].sc-ion-popover-ios .popover-arrow.sc-ion-popover-ios:after{left:unset;right:unset;right:3px}.popover-bottom.sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios{top:auto;bottom:-10px}.popover-bottom.sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios:after{top:-6px}\\@supports ((-webkit-backdrop-filter:blur(0)) or (backdrop-filter:blur(0))){.popover-translucent.sc-ion-popover-ios-h .popover-arrow.sc-ion-popover-ios:after, .popover-translucent.sc-ion-popover-ios-h .popover-content.sc-ion-popover-ios{background:rgba(var(--ion-background-color-rgb,255,255,255),.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_1;\r\n}());\r\nvar LIFECYCLE_MAP = {\r\n    'ionPopoverDidPresent': 'ionViewDidEnter',\r\n    'ionPopoverWillPresent': 'ionViewWillEnter',\r\n    'ionPopoverWillDismiss': 'ionViewWillLeave',\r\n    'ionPopoverDidDismiss': 'ionViewDidLeave',\r\n};\r\nexport { Popover as ion_popover };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar hostContext = function (selector, el) {\r\n    return el.closest(selector) !== null;\r\n};\r\n/**\r\n * Create the mode and color classes for the component based on the classes passed in\r\n */\r\nvar createColorClasses = function (color) {\r\n    var _a;\r\n    return (typeof color === 'string' && color.length > 0) ? (_a = {\r\n            'ion-color': true\r\n        },\r\n        _a[\"ion-color-\" + color] = true,\r\n        _a) : undefined;\r\n};\r\nvar getClassList = function (classes) {\r\n    if (classes !== undefined) {\r\n        var array = Array.isArray(classes) ? classes : classes.split(' ');\r\n        return array\r\n            .filter(function (c) { return c != null; })\r\n            .map(function (c) { return c.trim(); })\r\n            .filter(function (c) { return c !== ''; });\r\n    }\r\n    return [];\r\n};\r\nvar getClassMap = function (classes) {\r\n    var map = {};\r\n    getClassList(classes).forEach(function (c) { return map[c] = true; });\r\n    return map;\r\n};\r\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\r\nvar openURL = function (url, ev, direction) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var router;\r\n    return __generator(this, function (_a) {\r\n        if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\r\n            router = document.querySelector('ion-router');\r\n            if (router) {\r\n                if (ev != null) {\r\n                    ev.preventDefault();\r\n                }\r\n                return [2 /*return*/, router.push(url, direction)];\r\n            }\r\n        }\r\n        return [2 /*return*/, false];\r\n    });\r\n}); };\r\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar startHardwareBackButton = function () {\r\n    var doc = document;\r\n    var busy = false;\r\n    doc.addEventListener('backbutton', function () {\r\n        if (busy) {\r\n            return;\r\n        }\r\n        var handlers = [];\r\n        var ev = new CustomEvent('ionBackButton', {\r\n            bubbles: false,\r\n            detail: {\r\n                register: function (priority, handler) {\r\n                    handlers.push({ priority: priority, handler: handler });\r\n                }\r\n            }\r\n        });\r\n        doc.dispatchEvent(ev);\r\n        if (handlers.length > 0) {\r\n            var selectedPriority_1 = Number.MIN_SAFE_INTEGER;\r\n            var selectedHandler_1;\r\n            handlers.forEach(function (_a) {\r\n                var priority = _a.priority, handler = _a.handler;\r\n                if (priority >= selectedPriority_1) {\r\n                    selectedPriority_1 = priority;\r\n                    selectedHandler_1 = handler;\r\n                }\r\n            });\r\n            busy = true;\r\n            executeAction(selectedHandler_1).then(function () { return busy = false; });\r\n        }\r\n    });\r\n};\r\nvar executeAction = function (handler) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result, e_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 3, , 4]);\r\n                if (!handler) return [3 /*break*/, 2];\r\n                result = handler();\r\n                if (!(result != null)) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, result];\r\n            case 1:\r\n                _a.sent();\r\n                _a.label = 2;\r\n            case 2: return [3 /*break*/, 4];\r\n            case 3:\r\n                e_1 = _a.sent();\r\n                console.error(e_1);\r\n                return [3 /*break*/, 4];\r\n            case 4: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\r\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\r\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { j as config } from './core-0428d3c8.js';\r\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button-d00923be.js';\r\nvar lastId = 0;\r\nvar activeAnimations = new WeakMap();\r\nvar createController = function (tagName) {\r\n    return {\r\n        create: function (options) {\r\n            return createOverlay(tagName, options);\r\n        },\r\n        dismiss: function (data, role, id) {\r\n            return dismissOverlay(document, data, role, tagName, id);\r\n        },\r\n        getTop: function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2 /*return*/, getOverlay(document, tagName)];\r\n                });\r\n            });\r\n        }\r\n    };\r\n};\r\nvar alertController = /*@__PURE__*/ createController('ion-alert');\r\nvar actionSheetController = /*@__PURE__*/ createController('ion-action-sheet');\r\nvar pickerController = /*@__PURE__*/ createController('ion-picker');\r\nvar popoverController = /*@__PURE__*/ createController('ion-popover');\r\nvar prepareOverlay = function (el) {\r\n    var doc = document;\r\n    connectListeners(doc);\r\n    var overlayIndex = lastId++;\r\n    el.overlayIndex = overlayIndex;\r\n    if (!el.hasAttribute('id')) {\r\n        el.id = \"ion-overlay-\" + overlayIndex;\r\n    }\r\n};\r\nvar createOverlay = function (tagName, opts) {\r\n    return customElements.whenDefined(tagName).then(function () {\r\n        var doc = document;\r\n        var element = doc.createElement(tagName);\r\n        element.classList.add('overlay-hidden');\r\n        // convert the passed in overlay options into props\r\n        // that get passed down into the new overlay\r\n        Object.assign(element, opts);\r\n        // append the overlay element to the document body\r\n        getAppRoot(doc).appendChild(element);\r\n        return element.componentOnReady();\r\n    });\r\n};\r\nvar connectListeners = function (doc) {\r\n    if (lastId === 0) {\r\n        lastId = 1;\r\n        // trap focus inside overlays\r\n        doc.addEventListener('focusin', function (ev) {\r\n            var lastOverlay = getOverlay(doc);\r\n            if (lastOverlay && lastOverlay.backdropDismiss && !isDescendant(lastOverlay, ev.target)) {\r\n                var firstInput = lastOverlay.querySelector('input,button');\r\n                if (firstInput) {\r\n                    firstInput.focus();\r\n                }\r\n            }\r\n        });\r\n        // handle back-button click\r\n        doc.addEventListener('ionBackButton', function (ev) {\r\n            var lastOverlay = getOverlay(doc);\r\n            if (lastOverlay && lastOverlay.backdropDismiss) {\r\n                ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, function () {\r\n                    return lastOverlay.dismiss(undefined, BACKDROP);\r\n                });\r\n            }\r\n        });\r\n        // handle ESC to close overlay\r\n        doc.addEventListener('keyup', function (ev) {\r\n            if (ev.key === 'Escape') {\r\n                var lastOverlay = getOverlay(doc);\r\n                if (lastOverlay && lastOverlay.backdropDismiss) {\r\n                    lastOverlay.dismiss(undefined, BACKDROP);\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nvar dismissOverlay = function (doc, data, role, overlayTag, id) {\r\n    var overlay = getOverlay(doc, overlayTag, id);\r\n    if (!overlay) {\r\n        return Promise.reject('overlay does not exist');\r\n    }\r\n    return overlay.dismiss(data, role);\r\n};\r\nvar getOverlays = function (doc, selector) {\r\n    if (selector === undefined) {\r\n        selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\r\n    }\r\n    return Array.from(doc.querySelectorAll(selector))\r\n        .filter(function (c) { return c.overlayIndex > 0; });\r\n};\r\nvar getOverlay = function (doc, overlayTag, id) {\r\n    var overlays = getOverlays(doc, overlayTag);\r\n    return (id === undefined)\r\n        ? overlays[overlays.length - 1]\r\n        : overlays.find(function (o) { return o.id === id; });\r\n};\r\nvar present = function (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, completed;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (overlay.presented) {\r\n                    return [2 /*return*/];\r\n                }\r\n                overlay.presented = true;\r\n                overlay.willPresent.emit();\r\n                animationBuilder = (overlay.enterAnimation)\r\n                    ? overlay.enterAnimation\r\n                    : config.get(name, overlay.mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\r\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\r\n            case 1:\r\n                completed = _a.sent();\r\n                if (completed) {\r\n                    overlay.didPresent.emit();\r\n                }\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar dismiss = function (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, err_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (!overlay.presented) {\r\n                    return [2 /*return*/, false];\r\n                }\r\n                overlay.presented = false;\r\n                _a.label = 1;\r\n            case 1:\r\n                _a.trys.push([1, 4, , 5]);\r\n                overlay.willDismiss.emit({ data: data, role: role });\r\n                animationBuilder = (overlay.leaveAnimation)\r\n                    ? overlay.leaveAnimation\r\n                    : config.get(name, overlay.mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\r\n                if (!(role !== 'gesture')) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\r\n            case 2:\r\n                _a.sent();\r\n                _a.label = 3;\r\n            case 3:\r\n                overlay.didDismiss.emit({ data: data, role: role });\r\n                activeAnimations.delete(overlay);\r\n                return [3 /*break*/, 5];\r\n            case 4:\r\n                err_1 = _a.sent();\r\n                console.error(err_1);\r\n                return [3 /*break*/, 5];\r\n            case 5:\r\n                overlay.el.remove();\r\n                return [2 /*return*/, true];\r\n        }\r\n    });\r\n}); };\r\nvar getAppRoot = function (doc) {\r\n    return doc.querySelector('ion-app') || doc.body;\r\n};\r\nvar overlayAnimation = function (overlay, animationBuilder, baseEl, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var aniRoot, animation, activeAni;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                // Make overlay visible in case it's hidden\r\n                baseEl.classList.remove('overlay-hidden');\r\n                aniRoot = baseEl.shadowRoot || overlay.el;\r\n                animation = animationBuilder(aniRoot, opts);\r\n                if (!overlay.animated || !config.getBoolean('animated', true)) {\r\n                    animation.duration(0);\r\n                }\r\n                if (overlay.keyboardClose) {\r\n                    animation.beforeAddWrite(function () {\r\n                        var activeElement = baseEl.ownerDocument.activeElement;\r\n                        if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\r\n                            activeElement.blur();\r\n                        }\r\n                    });\r\n                }\r\n                activeAni = activeAnimations.get(overlay) || [];\r\n                activeAnimations.set(overlay, __spreadArrays(activeAni, [animation]));\r\n                return [4 /*yield*/, animation.play()];\r\n            case 1:\r\n                _a.sent();\r\n                return [2 /*return*/, true];\r\n        }\r\n    });\r\n}); };\r\nvar eventMethod = function (element, eventName) {\r\n    var resolve;\r\n    var promise = new Promise(function (r) { return resolve = r; });\r\n    onceEvent(element, eventName, function (event) {\r\n        resolve(event.detail);\r\n    });\r\n    return promise;\r\n};\r\nvar onceEvent = function (element, eventName, callback) {\r\n    var handler = function (ev) {\r\n        element.removeEventListener(eventName, handler);\r\n        callback(ev);\r\n    };\r\n    element.addEventListener(eventName, handler);\r\n};\r\nvar isCancel = function (role) {\r\n    return role === 'cancel' || role === BACKDROP;\r\n};\r\nvar isDescendant = function (parent, child) {\r\n    while (child) {\r\n        if (child === parent) {\r\n            return true;\r\n        }\r\n        child = child.parentElement;\r\n    }\r\n    return false;\r\n};\r\nvar defaultGate = function (h) { return h(); };\r\nvar safeCall = function (handler, arg) {\r\n    if (typeof handler === 'function') {\r\n        var jmp = config.get('_zoneGate', defaultGate);\r\n        return jmp(function () {\r\n            try {\r\n                return handler(arg);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        });\r\n    }\r\n    return undefined;\r\n};\r\nvar BACKDROP = 'backdrop';\r\nexport { BACKDROP as B, present as a, pickerController as b, activeAnimations as c, dismiss as d, eventMethod as e, popoverController as f, actionSheetController as g, alertController as h, isCancel as i, prepareOverlay as p, safeCall as s };\r\n","var LIFECYCLE_WILL_ENTER = 'ionViewWillEnter';\r\nvar LIFECYCLE_DID_ENTER = 'ionViewDidEnter';\r\nvar LIFECYCLE_WILL_LEAVE = 'ionViewWillLeave';\r\nvar LIFECYCLE_DID_LEAVE = 'ionViewDidLeave';\r\nvar LIFECYCLE_WILL_UNLOAD = 'ionViewWillUnload';\r\nexport { LIFECYCLE_WILL_LEAVE as L, LIFECYCLE_WILL_ENTER as a, LIFECYCLE_DID_ENTER as b, LIFECYCLE_DID_LEAVE as c, LIFECYCLE_WILL_UNLOAD as d };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar attachComponent = function (delegate, container, component, cssClasses, componentProps) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var el;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (delegate) {\r\n                    return [2 /*return*/, delegate.attachViewToDom(container, component, componentProps, cssClasses)];\r\n                }\r\n                if (typeof component !== 'string' && !(component instanceof HTMLElement)) {\r\n                    throw new Error('framework delegate is missing');\r\n                }\r\n                el = (typeof component === 'string')\r\n                    ? container.ownerDocument && container.ownerDocument.createElement(component)\r\n                    : component;\r\n                if (cssClasses) {\r\n                    cssClasses.forEach(function (c) { return el.classList.add(c); });\r\n                }\r\n                if (componentProps) {\r\n                    Object.assign(el, componentProps);\r\n                }\r\n                container.appendChild(el);\r\n                if (!el.componentOnReady) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, el.componentOnReady()];\r\n            case 1:\r\n                _a.sent();\r\n                _a.label = 2;\r\n            case 2: return [2 /*return*/, el];\r\n        }\r\n    });\r\n}); };\r\nvar detachComponent = function (delegate, element) {\r\n    if (element) {\r\n        if (delegate) {\r\n            var container = element.parentElement;\r\n            return delegate.removeViewFromDom(container, element);\r\n        }\r\n        element.remove();\r\n    }\r\n    return Promise.resolve();\r\n};\r\nexport { attachComponent as a, detachComponent as d };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { w as writeTask } from './core-0428d3c8.js';\r\nimport { L as LIFECYCLE_WILL_LEAVE, a as LIFECYCLE_WILL_ENTER, b as LIFECYCLE_DID_ENTER, c as LIFECYCLE_DID_LEAVE } from './constants-7647fb9e.js';\r\nvar iosTransitionAnimation = function () { return import('./ios.transition-8502398f.js'); };\r\nvar mdTransitionAnimation = function () { return import('./md.transition-009b990b.js'); };\r\nvar transition = function (opts) {\r\n    return new Promise(function (resolve, reject) {\r\n        writeTask(function () {\r\n            beforeTransition(opts);\r\n            runTransition(opts).then(function (result) {\r\n                if (result.animation) {\r\n                    result.animation.destroy();\r\n                }\r\n                afterTransition(opts);\r\n                resolve(result);\r\n            }, function (error) {\r\n                afterTransition(opts);\r\n                reject(error);\r\n            });\r\n        });\r\n    });\r\n};\r\nvar beforeTransition = function (opts) {\r\n    var enteringEl = opts.enteringEl;\r\n    var leavingEl = opts.leavingEl;\r\n    setZIndex(enteringEl, leavingEl, opts.direction);\r\n    if (opts.showGoBack) {\r\n        enteringEl.classList.add('can-go-back');\r\n    }\r\n    else {\r\n        enteringEl.classList.remove('can-go-back');\r\n    }\r\n    setPageHidden(enteringEl, false);\r\n    if (leavingEl) {\r\n        setPageHidden(leavingEl, false);\r\n    }\r\n};\r\nvar runTransition = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, ani;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, getAnimationBuilder(opts)];\r\n            case 1:\r\n                animationBuilder = _a.sent();\r\n                ani = (animationBuilder)\r\n                    ? animation(animationBuilder, opts)\r\n                    : noAnimation(opts);\r\n                return [2 /*return*/, ani];\r\n        }\r\n    });\r\n}); };\r\nvar afterTransition = function (opts) {\r\n    var enteringEl = opts.enteringEl;\r\n    var leavingEl = opts.leavingEl;\r\n    enteringEl.classList.remove('ion-page-invisible');\r\n    if (leavingEl !== undefined) {\r\n        leavingEl.classList.remove('ion-page-invisible');\r\n    }\r\n};\r\nvar getAnimationBuilder = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var getAnimation, _a;\r\n    return __generator(this, function (_b) {\r\n        switch (_b.label) {\r\n            case 0:\r\n                if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\r\n                    return [2 /*return*/, undefined];\r\n                }\r\n                if (opts.animationBuilder) {\r\n                    return [2 /*return*/, opts.animationBuilder];\r\n                }\r\n                if (!(opts.mode === 'ios')) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, iosTransitionAnimation()];\r\n            case 1:\r\n                _a = (_b.sent()).iosTransitionAnimation;\r\n                return [3 /*break*/, 4];\r\n            case 2: return [4 /*yield*/, mdTransitionAnimation()];\r\n            case 3:\r\n                _a = (_b.sent()).mdTransitionAnimation;\r\n                _b.label = 4;\r\n            case 4:\r\n                getAnimation = _a;\r\n                return [2 /*return*/, getAnimation];\r\n        }\r\n    });\r\n}); };\r\nvar animation = function (animationBuilder, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var trans, didComplete;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, waitForReady(opts, true)];\r\n            case 1:\r\n                _a.sent();\r\n                trans = animationBuilder(opts.baseEl, opts);\r\n                fireWillEvents(opts.enteringEl, opts.leavingEl);\r\n                return [4 /*yield*/, playTransition(trans, opts)];\r\n            case 2:\r\n                didComplete = _a.sent();\r\n                if (opts.progressCallback) {\r\n                    opts.progressCallback(undefined);\r\n                }\r\n                if (didComplete) {\r\n                    fireDidEvents(opts.enteringEl, opts.leavingEl);\r\n                }\r\n                return [2 /*return*/, {\r\n                        hasCompleted: didComplete,\r\n                        animation: trans\r\n                    }];\r\n        }\r\n    });\r\n}); };\r\nvar noAnimation = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var enteringEl, leavingEl;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                enteringEl = opts.enteringEl;\r\n                leavingEl = opts.leavingEl;\r\n                return [4 /*yield*/, waitForReady(opts, false)];\r\n            case 1:\r\n                _a.sent();\r\n                fireWillEvents(enteringEl, leavingEl);\r\n                fireDidEvents(enteringEl, leavingEl);\r\n                return [2 /*return*/, {\r\n                        hasCompleted: true\r\n                    }];\r\n        }\r\n    });\r\n}); };\r\nvar waitForReady = function (opts, defaultDeep) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var deep, promises;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\r\n                promises = deep ? [\r\n                    deepReady(opts.enteringEl),\r\n                    deepReady(opts.leavingEl),\r\n                ] : [\r\n                    shallowReady(opts.enteringEl),\r\n                    shallowReady(opts.leavingEl),\r\n                ];\r\n                return [4 /*yield*/, Promise.all(promises)];\r\n            case 1:\r\n                _a.sent();\r\n                return [4 /*yield*/, notifyViewReady(opts.viewIsReady, opts.enteringEl)];\r\n            case 2:\r\n                _a.sent();\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar notifyViewReady = function (viewIsReady, enteringEl) { return __awaiter(void 0, void 0, void 0, function () {\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (!viewIsReady) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, viewIsReady(enteringEl)];\r\n            case 1:\r\n                _a.sent();\r\n                _a.label = 2;\r\n            case 2: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar playTransition = function (trans, opts) {\r\n    var progressCallback = opts.progressCallback;\r\n    var promise = new Promise(function (resolve) {\r\n        trans.onFinish(function (currentStep) { return resolve(currentStep === 1); });\r\n    });\r\n    // cool, let's do this, start the transition\r\n    if (progressCallback) {\r\n        // this is a swipe to go back, just get the transition progress ready\r\n        // kick off the swipe animation start\r\n        trans.progressStart(true);\r\n        progressCallback(trans);\r\n    }\r\n    else {\r\n        // only the top level transition should actually start \"play\"\r\n        // kick it off and let it play through\r\n        // ******** DOM WRITE ****************\r\n        trans.play();\r\n    }\r\n    // create a callback for when the animation is done\r\n    return promise;\r\n};\r\nvar fireWillEvents = function (enteringEl, leavingEl) {\r\n    lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\r\n    lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\r\n};\r\nvar fireDidEvents = function (enteringEl, leavingEl) {\r\n    lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\r\n    lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\r\n};\r\nvar lifecycle = function (el, eventName) {\r\n    if (el) {\r\n        var ev = new CustomEvent(eventName, {\r\n            bubbles: false,\r\n            cancelable: false,\r\n        });\r\n        el.dispatchEvent(ev);\r\n    }\r\n};\r\nvar shallowReady = function (el) {\r\n    if (el && el.componentOnReady) {\r\n        return el.componentOnReady();\r\n    }\r\n    return Promise.resolve();\r\n};\r\nvar deepReady = function (el) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var element, stencilEl;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                element = el;\r\n                if (!element) return [3 /*break*/, 4];\r\n                if (!(element.componentOnReady != null)) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, element.componentOnReady()];\r\n            case 1:\r\n                stencilEl = _a.sent();\r\n                if (stencilEl != null) {\r\n                    return [2 /*return*/];\r\n                }\r\n                _a.label = 2;\r\n            case 2: return [4 /*yield*/, Promise.all(Array.from(element.children).map(deepReady))];\r\n            case 3:\r\n                _a.sent();\r\n                _a.label = 4;\r\n            case 4: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar setPageHidden = function (el, hidden) {\r\n    if (hidden) {\r\n        el.setAttribute('aria-hidden', 'true');\r\n        el.classList.add('ion-page-hidden');\r\n    }\r\n    else {\r\n        el.hidden = false;\r\n        el.removeAttribute('aria-hidden');\r\n        el.classList.remove('ion-page-hidden');\r\n    }\r\n};\r\nvar setZIndex = function (enteringEl, leavingEl, direction) {\r\n    if (enteringEl !== undefined) {\r\n        enteringEl.style.zIndex = (direction === 'back')\r\n            ? '99'\r\n            : '101';\r\n    }\r\n    if (leavingEl !== undefined) {\r\n        leavingEl.style.zIndex = '100';\r\n    }\r\n};\r\nvar getIonPageElement = function (element) {\r\n    if (element.classList.contains('ion-page')) {\r\n        return element;\r\n    }\r\n    var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\r\n    if (ionPage) {\r\n        return ionPage;\r\n    }\r\n    // idk, return the original element so at least something animates and we don't have a null pointer\r\n    return element;\r\n};\r\nexport { deepReady as d, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };\r\n"],"sourceRoot":""}