{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/services/api.js","webpack:///./src/actions/index.js","webpack:///./src/actions/types.js","webpack:///./src/reducers/get-manifest.js","webpack:///./src/reducers/nav.js","webpack:///./src/reducers/player.js","webpack:///./src/reducers/external-config.js","webpack:///./src/reducers/index.js","webpack:///./src/components/ErrorMessage.js","webpack:///./src/containers/MediaElementContainer.js","webpack:///./src/services/get-redux-manifest.js","webpack:///./src/components/ListItem.js","webpack:///./src/services/iiif-parser.js","webpack:///./src/components/List.js","webpack:///./src/components/StructuredNav.js","webpack:///./src/App.js","webpack:///./src/Root.js","webpack:///./src/components/MediaElement.js","webpack:///./src/index.js","webpack:///./demo/src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","fetchManifest","url","externalConfig","fetch","store","getState","obj","options","assign","getExternalConfig","then","response","ok","json","Error","err","console","log","error","fetchManifestSuccess","manifest","type","types","payload","playerInitialized","player","navItemClick","updateExternalConfig","config","getRemoteManifest","dispatch","fetchManifestRequest","api","MEJS_PLAYER_INITIALIZED","NAV_ITEM_CLICK","FETCH_MANIFEST_REQUEST","FETCH_MANIFEST_SUCCESS","FETCH_MANIFEST_FAILURE","UPDATE_EXTERNAL_CONFIG","initialState","loading","getManifest","state","action","nav","clickedUrl","rootReducer","combineReducers","ErrorMessage","props","message","propTypes","PropTypes","string","isRequired","MediaElementContainer","manifestUrl","ready","sources","this","choiceItems","manifesto","getSequences","getCanvases","getContent","getBody","e","prepSources","map","item","src","id","getSources","setState","MediaElement","mediaType","preload","controls","width","height","poster","crossorigin","JSON","stringify","Component","getReduxManifest","ListItem","label","childCanvases","rangeId","rangeCanvases","getRangeById","getCanvasIds","getChildCanvases","subMenu","items","handleClick","stopPropagation","preventDefault","target","href","data-testid","getLabelValue","canvasId","onClick","connect","actions","List","filteredItem","behavior","getBehavior","filterVisibleRangeItem","array","StructuredNav","prevProps","handleItemClick","timeFragment","uri","undefined","fragment","split","splitFragment","start","stop","getMediaFragment","paused","pause","setCurrentTime","play","structures","App","iiifManifest","iiifManifestUrl","createStore","applyMiddleware","thunk","Root","media","node","instance","MediaElementPlayer","global","parse","pluginPath","success","Hls","hlsjs","remove","sourceTags","total","source","mediaBody","join","mediaHtml","dangerouslySetInnerHTML","__html","number","credentials","render","document","getElementById"],"mappings":"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","file":"main.2d2523ecf83cba89aa1d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([86,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// Import the redux store, which is holding external configuration we might need\nimport { store } from '../Root';\n\nexport function fetchManifest(url) {\n  const externalConfig = getExternalConfig();\n\n  return fetch(url, externalConfig)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error('Network request was not ok');\n    })\n    .then(json => json)\n    .catch(err => {\n      console.log('Problem with the fetch operation', err);\n      return { error: 'Network failure fetching the manifest' };\n    });\n}\n\nfunction getExternalConfig() {\n  const currentState = store.getState();\n  const { fetch } = currentState.externalConfig;\n  let obj = {};\n\n  if (fetch && fetch.options) {\n    Object.assign(obj, fetch.options);\n  }\n\n  return obj;\n}\n","import * as types from './types';\nimport * as api from '../services/api';\n\nexport function fetchManifestRequest(url) {\n  return {\n    type: types.FETCH_MANIFEST_REQUEST,\n    payload: url\n  };\n}\n\nexport function fetchManifestSuccess(manifest) {\n  return {\n    type: types.FETCH_MANIFEST_SUCCESS,\n    payload: manifest\n  };\n}\n\nexport function fetchManifestFailure(error) {\n  return {\n    type: types.FETCH_MANIFEST_FAILURE,\n    payload: error\n  };\n}\n\nexport function playerInitialized(player) {\n  return {\n    type: types.MEJS_PLAYER_INITIALIZED,\n    payload: player\n  };\n}\n\nexport function navItemClick(url) {\n  return {\n    type: types.NAV_ITEM_CLICK,\n    payload: url\n  };\n}\n\nexport function updateExternalConfig(config) {\n  return {\n    type: types.UPDATE_EXTERNAL_CONFIG,\n    payload: config\n  };\n}\n\nexport function getRemoteManifest(url) {\n  return dispatch => {\n    dispatch(fetchManifestRequest(url));\n\n    return api.fetchManifest(url).then(response => {\n      if (response.error) {\n        return dispatch(fetchManifestFailure(response.error));\n      }\n      return dispatch(fetchManifestSuccess(response));\n    });\n  };\n}\n","export const MEJS_PLAYER_INITIALIZED = 'MEJS_PLAYER_INITIALIZED';\nexport const NAV_ITEM_CLICK = 'NAV_ITEM_CLICK';\n\nexport const FETCH_MANIFEST_REQUEST = 'FETCH_MANIFEST_REQUEST';\nexport const FETCH_MANIFEST_SUCCESS = 'FETCH_MANIFEST_SUCCESS';\nexport const FETCH_MANIFEST_FAILURE = 'FETCH_MANIFEST_FAILURE';\n\nexport const UPDATE_EXTERNAL_CONFIG = 'UPDATE_EXTERNAL_CONFIG';\n","import * as types from '../actions/types';\n\nconst initialState = {\n  error: false,\n  loading: false\n}\n\nconst getManifest = (state = initialState, action) => {\n  switch (action.type) {\n    case types.FETCH_MANIFEST_REQUEST:\n      return Object.assign({}, state, {\n        error: false,\n        loading: true,\n        manifest: null,\n        url: action.payload\n      })\n    case types.FETCH_MANIFEST_SUCCESS:\n      return Object.assign({}, state, {\n        error: false,\n        loading: false,\n        manifest: action.payload\n      })\n    case types.FETCH_MANIFEST_FAILURE:\n      return Object.assign({}, state, {\n        error: action.payload,\n        loading: false,\n        manifest: null,\n        url: null\n      });\n    default:\n      return state;\n  }\n};\n\nexport default getManifest;\n","import * as types from '../actions/types';\n\nconst nav = (state = {}, action) => {\n  switch (action.type) {\n    case types.NAV_ITEM_CLICK:\n      return Object.assign({}, state, {\n        clickedUrl: action.payload\n      });\n    default:\n      return state;\n  }\n};\n\nexport default nav;\n","import * as types from '../actions/types';\n\nconst player = (state = {}, action) => {\n  switch (action.type) {\n    case types.MEJS_PLAYER_INITIALIZED:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default player;\n","import * as types from '../actions/types';\n\nconst externalConfig = (state = {}, action) => {\n  switch (action.type) {\n    case types.UPDATE_EXTERNAL_CONFIG:\n      return Object.assign({}, state, action.payload);\n    default:\n      return state;\n  }\n};\n\nexport default externalConfig;\n","import { combineReducers } from 'redux';\nimport getManifest from './get-manifest';\nimport nav from './nav';\nimport player from './player';\nimport externalConfig from './external-config';\n\nconst rootReducer = combineReducers({\n  externalConfig,\n  getManifest,\n  nav,\n  player\n});\n\nexport default rootReducer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorMessage = props => <p>ERROR: {props.message}</p>;\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired\n};\n\nexport default ErrorMessage;\n","import React, { Component } from 'react';\nimport MediaElement from '../components/MediaElement';\nimport PropTypes from 'prop-types';\nimport ErrorMessage from '../components/ErrorMessage';\nimport manifesto from 'manifesto.js';\n\nclass MediaElementContainer extends Component {\n  state = {\n    manifestUrl: this.props.manifestUrl,\n    manifest: this.props.manifest,\n    ready: false,\n    sources: [],\n    error: null\n  };\n\n  componentDidMount() {\n    const { manifest } = this.state;\n    let choiceItems = [];\n\n    try {\n      choiceItems = manifesto\n        .create(manifest)\n        .getSequences()[0]\n        .getCanvases()[0]\n        .getContent()[0]\n        .getBody();\n    } catch (e) {}\n\n    this.prepSources(manifest, choiceItems);\n  }\n\n  getSources(choiceItems) {\n    const sources = choiceItems.map(item => {\n      return {\n        src: item.id,\n        // TODO: make type more generic, possibly use mime-db\n        type: 'audio/mp4'\n      };\n    });\n    return sources;\n  }\n\n  prepSources(manifest, choiceItems) {\n    if (choiceItems.length === 0) {\n      this.setState({\n        error: 'No media choice items found in manifest'\n      });\n      return;\n    }\n\n    const sources = this.getSources(choiceItems);\n    this.setState({\n      ready: true,\n      sources\n    });\n  }\n\n  render() {\n    const { manifest, ready, sources, error } = this.state;\n    const options = {};\n\n    if (ready) {\n      return (\n        <MediaElement\n          id=\"avln-mediaelement-component\"\n          mediaType=\"video\"\n          preload=\"auto\"\n          controls\n          width={manifest.width || 480}\n          height={manifest.height || 360}\n          poster=\"\"\n          crossorigin=\"anonymous\"\n          sources={JSON.stringify(sources)}\n          options={JSON.stringify(options)}\n        />\n      );\n    } else if (error) {\n      return <ErrorMessage message={error} />;\n    }\n    return null;\n  }\n}\n\nMediaElementContainer.propTypes = {\n  manifest: PropTypes.object\n};\n\nexport default MediaElementContainer;\n","import { store } from '../Root';\n\n// Necessary so we can more easily mock in tests\nexport const getReduxManifest = () => {\n  return store.getState().getManifest.manifest;\n};\n","import React from 'react';\nimport List from './List';\nimport { getChildCanvases, getLabelValue } from '../services/iiif-parser';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport PropTypes from 'prop-types';\n\nconst ListItem = props => {\n  const { item } = props;\n  const childCanvases = getChildCanvases(item.id);\n  const subMenu =\n    item.items && item.items.length > 0 && childCanvases.length === 0 ? (\n      <List items={item.items} />\n    ) : null;\n\n  const handleClick = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    props.navItemClick(e.target.href);\n  };\n\n  const renderListItem = () => {\n    const label = getLabelValue(item.label);\n\n    if (childCanvases.length > 0) {\n      return childCanvases.map(canvasId => (\n        <a key={canvasId} href={canvasId} onClick={handleClick}>\n          {label}\n        </a>\n      ));\n    } else {\n      return label;\n    }\n  };\n\n  return (\n    <li data-testid=\"list-item\">\n      {renderListItem()}\n      {subMenu}\n    </li>\n  );\n};\n\nListItem.propTypes = {\n  item: PropTypes.object.isRequired\n};\n\nconst mapDispatchToProps = dispatch => ({\n  navItemClick: url => dispatch(actions.navItemClick(url))\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ListItem);\n","import UtilityHelpers from './utility-helpers';\nimport manifesto from 'manifesto.js';\nimport { getReduxManifest } from './get-redux-manifest';\n\n/**\n * Does the manifest have a canvases array?\n * @function IIIFParser#canvasesInManifest\n * @return {boolean} - Does manifest have a canvases array\n **/\nexport function canvasesInManifest(manifest) {\n  return (\n    manifesto\n      .create(manifest)\n      .getSequences()[0]\n      .getCanvases().length > 0\n  );\n}\n\n/**\n * Check if item's behavior is set to a value which should hide it\n * @param {Object} item\n */\nexport function filterVisibleRangeItem(item) {\n  const behavior = manifesto\n    .create(getReduxManifest())\n    .getRangeById(item.id)\n    .getBehavior();\n\n  if (behavior && behavior.value === 'no-nav') {\n    return null;\n  }\n  return item;\n}\n\nexport function getChildCanvases(rangeId) {\n  let rangeCanvases = [];\n\n  try {\n    rangeCanvases = manifesto\n      .create(getReduxManifest())\n      .getRangeById(rangeId)\n      .getCanvasIds();\n  } catch (e) {\n    console.log('error fetching range canvases', e);\n  }\n\n  return rangeCanvases;\n}\n\n/**\n * Get contents of 'items[]' contained within the child 'body' property\n * Assuming these are choices of file type (ie. .mp4 / .webm)\n * // TODO: Should validate extra on 'body.type' === 'Choice'?\n * @param {Object} manifest IIIF Manifest\n * @returns {Array.<Object>} array of file choice objects\n */\n\n// TODO: Not currently being used... skipping the manifestojs parsing\nexport function getChoiceItems(manifest) {\n  const searchItems = items => {\n    for (const item of items) {\n      if (item.body) {\n        if (item.body.type === 'Choice') {\n          // Return array of file choices\n          return item.body.items;\n        }\n        if (['Video', 'Audio'].indexOf(item.body.type) > -1) {\n          // Return the 'body' object, as an array\n          return [item.body];\n        }\n      } else if (item.items) {\n        return searchItems(item.items);\n      }\n    }\n  };\n  let choiceItems = searchItems(manifest.items);\n\n  return choiceItems || [];\n}\n\n/**\n * Parse the label value from a manifest item\n * See https://iiif.io/api/presentation/3.0/#label\n * @param {Object} label\n */\nexport function getLabelValue(label) {\n  if (label && typeof label === 'object') {\n    // English\n    if (label.hasOwnProperty('en')) {\n      return label['en'].length > 0 ? label['en'][0] : '';\n    }\n    // None\n    if (label.hasOwnProperty('none')) {\n      return label['none'].length > 0 ? label['none'][0] : '';\n    }\n  } else if (typeof label === 'string') {\n    return label;\n  }\n  return 'Label could not be parsed';\n}\n\n/**\n * Takes a uri with a media fragment that looks like #=120,134 and returns an object\n * with start/stop in seconds and the duration in milliseconds\n * @function IIIFParser#getMediaFragment\n * @param {string} uri - Uri value\n * @return {Object} - Representing the media fragment ie. { start: \"3287.0\", stop: \"3590.0\" }, or undefined\n */\nexport function getMediaFragment(uri) {\n  if (uri !== undefined) {\n    const fragment = uri.split('#t=')[1];\n    if (fragment !== undefined) {\n      const splitFragment = fragment.split(',');\n      return {\n        start: splitFragment[0],\n        stop: splitFragment[1]\n      };\n    } else {\n      return undefined;\n    }\n  } else {\n    return undefined;\n  }\n}\n","import React from 'react';\nimport ListItem from './ListItem';\nimport PropTypes from 'prop-types';\nimport { filterVisibleRangeItem } from '../services/iiif-parser';\n\nconst List = props => {\n  return (\n    <ul data-testid=\"list\">\n      {props.items.map(item => {\n        const filteredItem = filterVisibleRangeItem(item);\n\n        if (!filteredItem) {\n          return null;\n        }\n        return <ListItem key={filteredItem.id} item={filteredItem} />;\n      })}\n    </ul>\n  );\n};\n\nList.propTypes = {\n  items: PropTypes.array.isRequired\n};\n\nexport default List;\n","import React, { Component } from 'react';\nimport List from './List';\nimport { getMediaFragment } from '../services/iiif-parser';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nclass StructuredNav extends Component {\n  constructor(props) {\n    super(props);\n    this.manifest = this.props.manifest;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.clickedUrl) {\n      this.handleItemClick(this.props.clickedUrl);\n    }\n  }\n\n  handleItemClick(id) {\n    const { player } = this.props;\n    const timeFragment = getMediaFragment(id);\n\n    if (!timeFragment) {\n      console.error(\n        'Error retrieving time fragment object from Canvas url in StructuredNav.js'\n      );\n      return;\n    }\n    // Pause player (if not)\n    if (!player.paused) {\n      player.pause();\n    }\n    // Set the start time\n    player.setCurrentTime(timeFragment.start);\n    // Start the player\n    player.play();\n  }\n\n  render() {\n    if (this.manifest.structures) {\n      return <List items={this.manifest.structures} />;\n    }\n    return <p>There are no structures in the manifest.</p>;\n  }\n}\n\nStructuredNav.propTypes = {\n  manifest: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  clickedUrl: state.nav.clickedUrl,\n  player: state.player\n});\n\nexport default connect(mapStateToProps)(StructuredNav);\n","import React, { Component } from 'react';\nimport MediaElementContainer from './containers/MediaElementContainer';\nimport StructuredNav from './components/StructuredNav';\nimport ErrorMessage from './components/ErrorMessage';\nimport { connect } from 'react-redux';\nimport * as actions from './actions';\n\nclass App extends Component {\n  componentDidMount() {\n    const { iiifManifest, iiifManifestUrl } = this.props;\n\n    if (iiifManifest) {\n      return this.props.fetchManifestSuccess(iiifManifest);\n    }\n\n    this.props.updateExternalConfig(this.props.config);\n    this.props.getRemoteManifest(iiifManifestUrl);\n  }\n\n  render() {\n    const { manifest, error } = this.props.getManifest;\n\n    if (manifest) {\n      return (\n        <section>\n          <MediaElementContainer manifest={manifest} />\n          <StructuredNav manifest={manifest} />\n        </section>\n      );\n    }\n    if (error) {\n      return <ErrorMessage message={error} />;\n    }\n    return <p>...Loading</p>;\n  }\n}\n\nconst mapStateToProps = state => ({\n  getManifest: state.getManifest\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchManifestSuccess: manifest =>\n    dispatch(actions.fetchManifestSuccess(manifest)),\n  getRemoteManifest: url => dispatch(actions.getRemoteManifest(url)),\n  updateExternalConfig: config => dispatch(actions.updateExternalConfig(config))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport App from './App';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\nexport { store };\n\nconst Root = props => (\n  <Provider store={store}>\n    <App {...props} />\n  </Provider>\n);\n\nexport default Root;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport hlsjs from 'hls.js';\nimport 'mediaelement';\nimport PropTypes from 'prop-types';\n\n// Import stylesheet and shims\nimport 'mediaelement/build/mediaelementplayer.min.css';\n\nclass MediaElement extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  success(media, node, instance) {\n    // Your action when media was successfully loaded\n    console.log('Loaded successfully');\n\n    // Action reducer\n    this.props.playerInitialized(instance);\n  }\n\n  error(media) {\n    // Your action when media had an error loading\n    console.log('Error loading');\n  }\n\n  componentDidMount() {\n    const { MediaElementPlayer } = global;\n\n    if (!MediaElementPlayer) {\n      return;\n    }\n\n    const options = Object.assign({}, JSON.parse(this.props.options), {\n      pluginPath: './static/media/',\n      success: (media, node, instance) => this.success(media, node, instance),\n      error: (media, node) => this.error(media, node)\n    });\n\n    window.Hls = hlsjs;\n    this.setState({ player: new MediaElementPlayer(this.props.id, options) });\n  }\n\n  componentWillUnmount() {\n    if (this.state.player) {\n      this.state.player.remove();\n      this.setState({ player: null });\n    }\n  }\n\n  render() {\n    const props = this.props,\n      sources = JSON.parse(props.sources),\n      sourceTags = [],\n      tracksTags = [];\n\n    for (let i = 0, total = sources.length; i < total; i++) {\n      const source = sources[i];\n      sourceTags.push(`<source src=\"${source.src}\" type=\"${source.type}\">`);\n    }\n\n    const mediaBody = `${sourceTags.join('\\n')}\n\t\t\t\t${tracksTags.join('\\n')}`,\n      mediaHtml =\n        props.mediaType === 'video'\n          ? `<video data-testid=\"video-element\" id=\"${props.id}\" width=\"${\n              props.width\n            }\" height=\"${props.height}\"${\n              props.poster ? ` poster=${props.poster}` : ''\n            }\n\t\t\t\t\t${props.controls ? ' controls' : ''}${\n              props.preload ? ` preload=\"${props.preload}\"` : ''\n            }>\n\t\t\t\t\t${mediaBody}\n\t\t\t\t</video>`\n          : `<audio data-testid=\"audio-element\" id=\"${props.id}\" width=\"${\n              props.width\n            }\" controls>\n\t\t\t\t\t${mediaBody}\n\t\t\t\t</audio>`;\n\n    return <div dangerouslySetInnerHTML={{ __html: mediaHtml }} />;\n  }\n}\n\nMediaElement.propTypes = {\n  id: PropTypes.string,\n  mediaType: PropTypes.string,\n  preload: PropTypes.string,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  poster: PropTypes.string,\n  sources: PropTypes.string,\n  options: PropTypes.string\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    playerInitialized: player => dispatch(actions.playerInitialized(player))\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(MediaElement);\n","import Root from './Root';\nexport default Root;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport Root from '../../src';\n\n// Import a local manifest here.\n// If included in the 'props' below, it will take precedence over the URI\nimport iiifManifest from '../../src/json/manifest-pawpaw-mahler';\n\n// A valid IIIF Manifest URI endpoint\nconst iiifManifestUrl =\n  'https://dlib.indiana.edu/iiif_av/mahler-symphony-3/mahler-symphony-3.json';\n\nconst props = {\n  config: {\n    // If you'd like to include any fetch API configuration in the\n    // network request for a IIIF Manifest URI, place here\n    fetch: {\n      options: {\n        credentials: 'omit'\n      }\n    }\n  },\n  // iiifManifest,\n  iiifManifestUrl\n};\n\nrender(<Root {...props} />, document.getElementById('root'));\n"],"sourceRoot":""}