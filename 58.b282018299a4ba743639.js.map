{"version":3,"sources":["webpack:///./node_modules/iiif-explorer/dist/esm-es5/ion-reorder-group.entry.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/haptic-238f7b9d.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","ReorderGroup","class_1","hostRef","lastToIndex","cachedHeights","scrollElTop","scrollElBottom","scrollElInitial","containerTop","containerBottom","state","disabled","ionItemReorder","prototype","disabledChanged","gesture","enable","connectedCallback","contentEl","_a","_b","_this","_c","el","closest","getScrollElement","scrollEl","createGesture","gestureName","gesturePriority","threshold","direction","passive","canStart","detail","onStart","ev","onMove","onEnd","disconnectedCallback","destroy","undefined","complete","listOrReorder","completeSync","selectedItemEl","reorderEl","event","target","item","findReorderItem","data","preventDefault","heights","children","sum","i","child","offsetHeight","$ionIndex","box","getBoundingClientRect","top","bottom","scrollBox","scrollTop","AUTO_SCROLL_MARGIN","indexForItem","selectedItemHeight","classList","add","ITEM_REORDER_SELECTED","selectedItem","scroll","autoscroll","currentY","Math","max","min","deltaY","startY","normalizedY","toIndex","itemIndexForTop","fromIndex","reorderMove","style","transform","emit","from","to","bind","len","ref","insertBefore","Array","isArray","reorderArray","transition","remove","itemHeight","posY","amount","SCROLL_JUMP","scrollBy","render","mode","class","Object","defineProperty","get","enumerable","configurable","element","node","container","parent","parentElement","array","splice","slice","hapticSelection","engine","window","TapticEngine","selection","hapticSelectionStart","gestureSelectionStart","hapticSelectionChanged","gestureSelectionChanged","hapticSelectionEnd","gestureSelectionEnd"],"mappings":"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","file":"58.b282018299a4ba743639.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { r as registerInstance, c as createEvent, e as getIonMode, h, d as getElement, H as Host } from './core-0428d3c8.js';\r\nimport { h as hapticSelectionStart, a as hapticSelectionChanged, b as hapticSelectionEnd } from './haptic-238f7b9d.js';\r\nvar ReorderGroup = /** @class */ (function () {\r\n    function class_1(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        this.lastToIndex = -1;\r\n        this.cachedHeights = [];\r\n        this.scrollElTop = 0;\r\n        this.scrollElBottom = 0;\r\n        this.scrollElInitial = 0;\r\n        this.containerTop = 0;\r\n        this.containerBottom = 0;\r\n        this.state = 0 /* Idle */;\r\n        /**\r\n         * If `true`, the reorder will be hidden.\r\n         */\r\n        this.disabled = true;\r\n        this.ionItemReorder = createEvent(this, \"ionItemReorder\", 7);\r\n    }\r\n    class_1.prototype.disabledChanged = function () {\r\n        if (this.gesture) {\r\n            this.gesture.enable(!this.disabled);\r\n        }\r\n    };\r\n    class_1.prototype.connectedCallback = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contentEl, _a, _b;\r\n            var _this = this;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        contentEl = this.el.closest('ion-content');\r\n                        if (!contentEl) return [3 /*break*/, 2];\r\n                        _a = this;\r\n                        return [4 /*yield*/, contentEl.getScrollElement()];\r\n                    case 1:\r\n                        _a.scrollEl = _c.sent();\r\n                        _c.label = 2;\r\n                    case 2:\r\n                        _b = this;\r\n                        return [4 /*yield*/, import('./index-d4adefd0.js')];\r\n                    case 3:\r\n                        _b.gesture = (_c.sent()).createGesture({\r\n                            el: this.el,\r\n                            gestureName: 'reorder',\r\n                            gesturePriority: 110,\r\n                            threshold: 0,\r\n                            direction: 'y',\r\n                            passive: false,\r\n                            canStart: function (detail) { return _this.canStart(detail); },\r\n                            onStart: function (ev) { return _this.onStart(ev); },\r\n                            onMove: function (ev) { return _this.onMove(ev); },\r\n                            onEnd: function () { return _this.onEnd(); },\r\n                        });\r\n                        this.disabledChanged();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.disconnectedCallback = function () {\r\n        this.onEnd();\r\n        if (this.gesture) {\r\n            this.gesture.destroy();\r\n            this.gesture = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Completes the reorder operation. Must be called by the `ionItemReorder` event.\r\n     *\r\n     * If a list of items is passed, the list will be reordered and returned in the\r\n     * proper order.\r\n     *\r\n     * If no parameters are passed or if `true` is passed in, the reorder will complete\r\n     * and the item will remain in the position it was dragged to. If `false` is passed,\r\n     * the reorder will complete and the item will bounce back to its original position.\r\n     *\r\n     * @param listOrReorder A list of items to be sorted and returned in the new order or a\r\n     * boolean of whether or not the reorder should reposition the item.\r\n     */\r\n    class_1.prototype.complete = function (listOrReorder) {\r\n        return Promise.resolve(this.completeSync(listOrReorder));\r\n    };\r\n    class_1.prototype.canStart = function (ev) {\r\n        if (this.selectedItemEl || this.state !== 0 /* Idle */) {\r\n            return false;\r\n        }\r\n        var target = ev.event.target;\r\n        var reorderEl = target.closest('ion-reorder');\r\n        if (!reorderEl) {\r\n            return false;\r\n        }\r\n        var item = findReorderItem(reorderEl, this.el);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        ev.data = item;\r\n        return true;\r\n    };\r\n    class_1.prototype.onStart = function (ev) {\r\n        ev.event.preventDefault();\r\n        var item = this.selectedItemEl = ev.data;\r\n        var heights = this.cachedHeights;\r\n        heights.length = 0;\r\n        var el = this.el;\r\n        var children = el.children;\r\n        if (!children || children.length === 0) {\r\n            return;\r\n        }\r\n        var sum = 0;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var child = children[i];\r\n            sum += child.offsetHeight;\r\n            heights.push(sum);\r\n            child.$ionIndex = i;\r\n        }\r\n        var box = el.getBoundingClientRect();\r\n        this.containerTop = box.top;\r\n        this.containerBottom = box.bottom;\r\n        if (this.scrollEl) {\r\n            var scrollBox = this.scrollEl.getBoundingClientRect();\r\n            this.scrollElInitial = this.scrollEl.scrollTop;\r\n            this.scrollElTop = scrollBox.top + AUTO_SCROLL_MARGIN;\r\n            this.scrollElBottom = scrollBox.bottom - AUTO_SCROLL_MARGIN;\r\n        }\r\n        else {\r\n            this.scrollElInitial = 0;\r\n            this.scrollElTop = 0;\r\n            this.scrollElBottom = 0;\r\n        }\r\n        this.lastToIndex = indexForItem(item);\r\n        this.selectedItemHeight = item.offsetHeight;\r\n        this.state = 1 /* Active */;\r\n        item.classList.add(ITEM_REORDER_SELECTED);\r\n        hapticSelectionStart();\r\n    };\r\n    class_1.prototype.onMove = function (ev) {\r\n        var selectedItem = this.selectedItemEl;\r\n        if (!selectedItem) {\r\n            return;\r\n        }\r\n        // Scroll if we reach the scroll margins\r\n        var scroll = this.autoscroll(ev.currentY);\r\n        // // Get coordinate\r\n        var top = this.containerTop - scroll;\r\n        var bottom = this.containerBottom - scroll;\r\n        var currentY = Math.max(top, Math.min(ev.currentY, bottom));\r\n        var deltaY = scroll + currentY - ev.startY;\r\n        var normalizedY = currentY - top;\r\n        var toIndex = this.itemIndexForTop(normalizedY);\r\n        if (toIndex !== this.lastToIndex) {\r\n            var fromIndex = indexForItem(selectedItem);\r\n            this.lastToIndex = toIndex;\r\n            hapticSelectionChanged();\r\n            this.reorderMove(fromIndex, toIndex);\r\n        }\r\n        // Update selected item position\r\n        selectedItem.style.transform = \"translateY(\" + deltaY + \"px)\";\r\n    };\r\n    class_1.prototype.onEnd = function () {\r\n        var selectedItemEl = this.selectedItemEl;\r\n        this.state = 2 /* Complete */;\r\n        if (!selectedItemEl) {\r\n            this.state = 0 /* Idle */;\r\n            return;\r\n        }\r\n        var toIndex = this.lastToIndex;\r\n        var fromIndex = indexForItem(selectedItemEl);\r\n        if (toIndex === fromIndex) {\r\n            this.completeSync();\r\n        }\r\n        else {\r\n            this.ionItemReorder.emit({\r\n                from: fromIndex,\r\n                to: toIndex,\r\n                complete: this.completeSync.bind(this)\r\n            });\r\n        }\r\n        hapticSelectionEnd();\r\n    };\r\n    class_1.prototype.completeSync = function (listOrReorder) {\r\n        var selectedItemEl = this.selectedItemEl;\r\n        if (selectedItemEl && this.state === 2 /* Complete */) {\r\n            var children = this.el.children;\r\n            var len = children.length;\r\n            var toIndex = this.lastToIndex;\r\n            var fromIndex = indexForItem(selectedItemEl);\r\n            if (toIndex !== fromIndex && (!listOrReorder || listOrReorder === true)) {\r\n                var ref = (fromIndex < toIndex)\r\n                    ? children[toIndex + 1]\r\n                    : children[toIndex];\r\n                this.el.insertBefore(selectedItemEl, ref);\r\n            }\r\n            if (Array.isArray(listOrReorder)) {\r\n                listOrReorder = reorderArray(listOrReorder, fromIndex, toIndex);\r\n            }\r\n            for (var i = 0; i < len; i++) {\r\n                children[i].style['transform'] = '';\r\n            }\r\n            selectedItemEl.style.transition = '';\r\n            selectedItemEl.classList.remove(ITEM_REORDER_SELECTED);\r\n            this.selectedItemEl = undefined;\r\n            this.state = 0 /* Idle */;\r\n        }\r\n        return listOrReorder;\r\n    };\r\n    class_1.prototype.itemIndexForTop = function (deltaY) {\r\n        var heights = this.cachedHeights;\r\n        var i = 0;\r\n        // TODO: since heights is a sorted array of integers, we can do\r\n        // speed up the search using binary search. Remember that linear-search is still\r\n        // faster than binary-search for small arrays (<64) due CPU branch misprediction.\r\n        for (i = 0; i < heights.length; i++) {\r\n            if (heights[i] > deltaY) {\r\n                break;\r\n            }\r\n        }\r\n        return i;\r\n    };\r\n    /********* DOM WRITE ********* */\r\n    class_1.prototype.reorderMove = function (fromIndex, toIndex) {\r\n        var itemHeight = this.selectedItemHeight;\r\n        var children = this.el.children;\r\n        for (var i = 0; i < children.length; i++) {\r\n            var style = children[i].style;\r\n            var value = '';\r\n            if (i > fromIndex && i <= toIndex) {\r\n                value = \"translateY(\" + -itemHeight + \"px)\";\r\n            }\r\n            else if (i < fromIndex && i >= toIndex) {\r\n                value = \"translateY(\" + itemHeight + \"px)\";\r\n            }\r\n            style['transform'] = value;\r\n        }\r\n    };\r\n    class_1.prototype.autoscroll = function (posY) {\r\n        if (!this.scrollEl) {\r\n            return 0;\r\n        }\r\n        var amount = 0;\r\n        if (posY < this.scrollElTop) {\r\n            amount = -SCROLL_JUMP;\r\n        }\r\n        else if (posY > this.scrollElBottom) {\r\n            amount = SCROLL_JUMP;\r\n        }\r\n        if (amount !== 0) {\r\n            this.scrollEl.scrollBy(0, amount);\r\n        }\r\n        return this.scrollEl.scrollTop - this.scrollElInitial;\r\n    };\r\n    class_1.prototype.render = function () {\r\n        var _a;\r\n        var mode = getIonMode(this);\r\n        return (h(Host, { class: (_a = {},\r\n                _a[mode] = true,\r\n                _a['reorder-enabled'] = !this.disabled,\r\n                _a['reorder-list-active'] = this.state !== 0 /* Idle */,\r\n                _a) }));\r\n    };\r\n    Object.defineProperty(class_1.prototype, \"el\", {\r\n        get: function () { return getElement(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(class_1, \"watchers\", {\r\n        get: function () {\r\n            return {\r\n                \"disabled\": [\"disabledChanged\"]\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(class_1, \"style\", {\r\n        get: function () { return \".reorder-list-active>*{-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none!important;transition:none!important;-webkit-box-shadow:0 0 10px rgba(0,0,0,.4);box-shadow:0 0 10px rgba(0,0,0,.4);opacity:.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translateZ(0);transform:translateZ(0)}\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_1;\r\n}());\r\nvar indexForItem = function (element) {\r\n    return element['$ionIndex'];\r\n};\r\nvar findReorderItem = function (node, container) {\r\n    var parent;\r\n    while (node) {\r\n        parent = node.parentElement;\r\n        if (parent === container) {\r\n            return node;\r\n        }\r\n        node = parent;\r\n    }\r\n    return undefined;\r\n};\r\nvar AUTO_SCROLL_MARGIN = 60;\r\nvar SCROLL_JUMP = 10;\r\nvar ITEM_REORDER_SELECTED = 'reorder-selected';\r\nvar reorderArray = function (array, from, to) {\r\n    var element = array[from];\r\n    array.splice(from, 1);\r\n    array.splice(to, 0, element);\r\n    return array.slice();\r\n};\r\nexport { ReorderGroup as ion_reorder_group };\r\n","/**\r\n * Check to see if the Haptic Plugin is available\r\n * @return Returns `true` or false if the plugin is available\r\n */\r\n/**\r\n * Trigger a selection changed haptic event. Good for one-time events\r\n * (not for gestures)\r\n */\r\nvar hapticSelection = function () {\r\n    var engine = window.TapticEngine;\r\n    if (engine) {\r\n        engine.selection();\r\n    }\r\n};\r\n/**\r\n * Tell the haptic engine that a gesture for a selection change is starting.\r\n */\r\nvar hapticSelectionStart = function () {\r\n    var engine = window.TapticEngine;\r\n    if (engine) {\r\n        engine.gestureSelectionStart();\r\n    }\r\n};\r\n/**\r\n * Tell the haptic engine that a selection changed during a gesture.\r\n */\r\nvar hapticSelectionChanged = function () {\r\n    var engine = window.TapticEngine;\r\n    if (engine) {\r\n        engine.gestureSelectionChanged();\r\n    }\r\n};\r\n/**\r\n * Tell the haptic engine we are done with a gesture. This needs to be\r\n * called lest resources are not properly recycled.\r\n */\r\nvar hapticSelectionEnd = function () {\r\n    var engine = window.TapticEngine;\r\n    if (engine) {\r\n        engine.gestureSelectionEnd();\r\n    }\r\n};\r\nexport { hapticSelectionChanged as a, hapticSelectionEnd as b, hapticSelection as c, hapticSelectionStart as h };\r\n"],"sourceRoot":""}