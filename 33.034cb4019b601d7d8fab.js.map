{"version":3,"sources":["webpack:///./node_modules/iiif-explorer/dist/esm-es5/ion-action-sheet-md.entry.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/theme-215399f6.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/hardware-back-button-d00923be.js","webpack:///./node_modules/iiif-explorer/dist/esm-es5/overlays-c3bbdd4c.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","iosEnterAnimation","baseEl","baseAnimation","backdropAnimation","wrapperAnimation","addElement","querySelector","fromTo","beforeStyles","afterClearStyles","easing","duration","addAnimation","iosLeaveAnimation","mdEnterAnimation","mdLeaveAnimation","ActionSheet","class_1","hostRef","_this","presented","mode","keyboardClose","buttons","backdropDismiss","translucent","animated","onBackdropTap","dismiss","undefined","dispatchCancelHandler","ev","role","detail","cancelButton","getButtons","find","b","callButtonHandler","el","didPresent","willPresent","willDismiss","didDismiss","prototype","present","data","onDidDismiss","onWillDismiss","buttonClick","button","_a","handler","map","text","render","allButtons","filter","style","zIndex","overlayIndex","class","Object","assign","cssClass","onIonActionSheetWillDismiss","onIonBackdropTap","tappable","header","subHeader","type","buttonClass","onClick","icon","lazy","defineProperty","get","enumerable","configurable","hostContext","selector","closest","createColorClasses","color","getClassMap","classes","Array","isArray","split","c","trim","getClassList","forEach","SCHEME","openURL","url","direction","router","test","document","preventDefault","startHardwareBackButton","doc","busy","addEventListener","handlers","CustomEvent","bubbles","register","priority","dispatchEvent","selectedHandler_1","selectedPriority_1","Number","MIN_SAFE_INTEGER","executeAction","e_1","console","error","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY","__spreadArrays","s","i","il","arguments","r","k","a","j","jl","lastId","activeAnimations","WeakMap","createController","tagName","create","options","createOverlay","id","dismissOverlay","getTop","getOverlay","alertController","actionSheetController","pickerController","popoverController","prepareOverlay","connectListeners","hasAttribute","opts","customElements","whenDefined","element","createElement","classList","add","getAppRoot","appendChild","componentOnReady","lastOverlay","isDescendant","target","firstInput","focus","BACKDROP","key","overlayTag","overlay","overlays","from","querySelectorAll","getOverlays","o","name","animationBuilder","emit","enterAnimation","overlayAnimation","err_1","leaveAnimation","delete","remove","aniRoot","animation","activeAni","shadowRoot","getBoolean","beforeAddWrite","activeElement","ownerDocument","matches","blur","set","play","eventMethod","eventName","promise","onceEvent","event","callback","removeEventListener","isCancel","parent","child","parentElement","defaultGate","h","safeCall","arg","jmp"],"mappings":"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","file":"33.034cb4019b601d7d8fab.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { r as registerInstance, e as getIonMode, c as createEvent, h, H as Host, d as getElement } from './core-0428d3c8.js';\r\nimport './helpers-b7c9db54.js';\r\nimport { g as getClassMap } from './theme-215399f6.js';\r\nimport './hardware-back-button-d00923be.js';\r\nimport { B as BACKDROP, i as isCancel, p as prepareOverlay, a as present, d as dismiss, e as eventMethod, s as safeCall } from './overlays-c3bbdd4c.js';\r\nimport { c as createAnimation } from './animation-2b8428ef.js';\r\n/**\r\n * iOS Action Sheet Enter Animation\r\n */\r\nvar iosEnterAnimation = function (baseEl) {\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\r\n        .beforeStyles({\r\n        'pointer-events': 'none'\r\n    })\r\n        .afterClearStyles(['pointer-events']);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.action-sheet-wrapper'))\r\n        .fromTo('transform', 'translateY(100%)', 'translateY(0%)');\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('cubic-bezier(.36,.66,.04,1)')\r\n        .duration(400)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\n/**\r\n * iOS Action Sheet Leave Animation\r\n */\r\nvar iosLeaveAnimation = function (baseEl) {\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 'var(--backdrop-opacity)', 0);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.action-sheet-wrapper'))\r\n        .fromTo('transform', 'translateY(0%)', 'translateY(100%)');\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('cubic-bezier(.36,.66,.04,1)')\r\n        .duration(450)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\n/**\r\n * MD Action Sheet Enter Animation\r\n */\r\nvar mdEnterAnimation = function (baseEl) {\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\r\n        .beforeStyles({\r\n        'pointer-events': 'none'\r\n    })\r\n        .afterClearStyles(['pointer-events']);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.action-sheet-wrapper'))\r\n        .fromTo('transform', 'translateY(100%)', 'translateY(0%)');\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('cubic-bezier(.36,.66,.04,1)')\r\n        .duration(400)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\n/**\r\n * MD Action Sheet Leave Animation\r\n */\r\nvar mdLeaveAnimation = function (baseEl) {\r\n    var baseAnimation = createAnimation();\r\n    var backdropAnimation = createAnimation();\r\n    var wrapperAnimation = createAnimation();\r\n    backdropAnimation\r\n        .addElement(baseEl.querySelector('ion-backdrop'))\r\n        .fromTo('opacity', 'var(--backdrop-opacity)', 0);\r\n    wrapperAnimation\r\n        .addElement(baseEl.querySelector('.action-sheet-wrapper'))\r\n        .fromTo('transform', 'translateY(0%)', 'translateY(100%)');\r\n    return baseAnimation\r\n        .addElement(baseEl)\r\n        .easing('cubic-bezier(.36,.66,.04,1)')\r\n        .duration(450)\r\n        .addAnimation([backdropAnimation, wrapperAnimation]);\r\n};\r\nvar ActionSheet = /** @class */ (function () {\r\n    function class_1(hostRef) {\r\n        var _this = this;\r\n        registerInstance(this, hostRef);\r\n        this.presented = false;\r\n        this.mode = getIonMode(this);\r\n        /**\r\n         * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\r\n         */\r\n        this.keyboardClose = true;\r\n        /**\r\n         * An array of buttons for the action sheet.\r\n         */\r\n        this.buttons = [];\r\n        /**\r\n         * If `true`, the action sheet will be dismissed when the backdrop is clicked.\r\n         */\r\n        this.backdropDismiss = true;\r\n        /**\r\n         * If `true`, the action sheet will be translucent.\r\n         * Only applies when the mode is `\"ios\"` and the device supports\r\n         * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\r\n         */\r\n        this.translucent = false;\r\n        /**\r\n         * If `true`, the action sheet will animate.\r\n         */\r\n        this.animated = true;\r\n        this.onBackdropTap = function () {\r\n            _this.dismiss(undefined, BACKDROP);\r\n        };\r\n        this.dispatchCancelHandler = function (ev) {\r\n            var role = ev.detail.role;\r\n            if (isCancel(role)) {\r\n                var cancelButton = _this.getButtons().find(function (b) { return b.role === 'cancel'; });\r\n                _this.callButtonHandler(cancelButton);\r\n            }\r\n        };\r\n        prepareOverlay(this.el);\r\n        this.didPresent = createEvent(this, \"ionActionSheetDidPresent\", 7);\r\n        this.willPresent = createEvent(this, \"ionActionSheetWillPresent\", 7);\r\n        this.willDismiss = createEvent(this, \"ionActionSheetWillDismiss\", 7);\r\n        this.didDismiss = createEvent(this, \"ionActionSheetDidDismiss\", 7);\r\n    }\r\n    /**\r\n     * Present the action sheet overlay after it has been created.\r\n     */\r\n    class_1.prototype.present = function () {\r\n        return present(this, 'actionSheetEnter', iosEnterAnimation, mdEnterAnimation);\r\n    };\r\n    /**\r\n     * Dismiss the action sheet overlay after it has been presented.\r\n     *\r\n     * @param data Any data to emit in the dismiss events.\r\n     * @param role The role of the element that is dismissing the action sheet.\r\n     * This can be useful in a button handler for determining which button was\r\n     * clicked to dismiss the action sheet.\r\n     * Some examples include: ``\"cancel\"`, `\"destructive\"`, \"selected\"`, and `\"backdrop\"`.\r\n     */\r\n    class_1.prototype.dismiss = function (data, role) {\r\n        return dismiss(this, data, role, 'actionSheetLeave', iosLeaveAnimation, mdLeaveAnimation);\r\n    };\r\n    /**\r\n     * Returns a promise that resolves when the action sheet did dismiss.\r\n     */\r\n    class_1.prototype.onDidDismiss = function () {\r\n        return eventMethod(this.el, 'ionActionSheetDidDismiss');\r\n    };\r\n    /**\r\n     * Returns a promise that resolves when the action sheet will dismiss.\r\n     *\r\n     */\r\n    class_1.prototype.onWillDismiss = function () {\r\n        return eventMethod(this.el, 'ionActionSheetWillDismiss');\r\n    };\r\n    class_1.prototype.buttonClick = function (button) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var role, shouldDismiss;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        role = button.role;\r\n                        if (isCancel(role)) {\r\n                            return [2 /*return*/, this.dismiss(undefined, role)];\r\n                        }\r\n                        return [4 /*yield*/, this.callButtonHandler(button)];\r\n                    case 1:\r\n                        shouldDismiss = _a.sent();\r\n                        if (shouldDismiss) {\r\n                            return [2 /*return*/, this.dismiss(undefined, button.role)];\r\n                        }\r\n                        return [2 /*return*/, Promise.resolve()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.callButtonHandler = function (button) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var rtn;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!button) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, safeCall(button.handler)];\r\n                    case 1:\r\n                        rtn = _a.sent();\r\n                        if (rtn === false) {\r\n                            // if the return value of the handler is false then do not dismiss\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, true];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.getButtons = function () {\r\n        return this.buttons.map(function (b) {\r\n            return (typeof b === 'string')\r\n                ? { text: b }\r\n                : b;\r\n        });\r\n    };\r\n    class_1.prototype.render = function () {\r\n        var _a;\r\n        var _this = this;\r\n        var mode = getIonMode(this);\r\n        var allButtons = this.getButtons();\r\n        var cancelButton = allButtons.find(function (b) { return b.role === 'cancel'; });\r\n        var buttons = allButtons.filter(function (b) { return b.role !== 'cancel'; });\r\n        return (h(Host, { role: \"dialog\", \"aria-modal\": \"true\", style: {\r\n                zIndex: \"\" + (20000 + this.overlayIndex),\r\n            }, class: Object.assign(Object.assign((_a = {}, _a[mode] = true, _a), getClassMap(this.cssClass)), { 'action-sheet-translucent': this.translucent }), onIonActionSheetWillDismiss: this.dispatchCancelHandler, onIonBackdropTap: this.onBackdropTap }, h(\"ion-backdrop\", { tappable: this.backdropDismiss }), h(\"div\", { class: \"action-sheet-wrapper\", role: \"dialog\" }, h(\"div\", { class: \"action-sheet-container\" }, h(\"div\", { class: \"action-sheet-group\" }, this.header !== undefined &&\r\n            h(\"div\", { class: \"action-sheet-title\" }, this.header, this.subHeader && h(\"div\", { class: \"action-sheet-sub-title\" }, this.subHeader)), buttons.map(function (b) { return h(\"button\", { type: \"button\", class: buttonClass(b), onClick: function () { return _this.buttonClick(b); } }, h(\"span\", { class: \"action-sheet-button-inner\" }, b.icon && h(\"ion-icon\", { icon: b.icon, lazy: false, class: \"action-sheet-icon\" }), b.text), mode === 'md' && h(\"ion-ripple-effect\", null)); })), cancelButton &&\r\n            h(\"div\", { class: \"action-sheet-group action-sheet-group-cancel\" }, h(\"button\", { type: \"button\", class: buttonClass(cancelButton), onClick: function () { return _this.buttonClick(cancelButton); } }, h(\"span\", { class: \"action-sheet-button-inner\" }, cancelButton.icon &&\r\n                h(\"ion-icon\", { icon: cancelButton.icon, lazy: false, class: \"action-sheet-icon\" }), cancelButton.text), mode === 'md' && h(\"ion-ripple-effect\", null)))))));\r\n    };\r\n    Object.defineProperty(class_1.prototype, \"el\", {\r\n        get: function () { return getElement(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(class_1, \"style\", {\r\n        get: function () { return \".sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;font-family:var(--ion-font-family,inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}\\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md:after{left:0;right:0;top:0;bottom:0;position:absolute;content:\\\"\\\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md:after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md:after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md:after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}\\@media (any-hover:hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover:after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color,var(--ion-background-color,#fff));--backdrop-opacity:var(--ion-backdrop-opacity,0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850,#262626);--color:rgba(var(--ion-text-color-rgb,0,0,0),0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;height:60px;color:var(--color,rgba(var(--ion-text-color-rgb,0,0,0),.54));font-size:16px;text-align:start}\\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}\\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}\\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:700}\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_1;\r\n}());\r\nvar buttonClass = function (button) {\r\n    var _a;\r\n    return Object.assign((_a = { 'action-sheet-button': true, 'ion-activatable': true, 'ion-focusable': true }, _a[\"action-sheet-\" + button.role] = button.role !== undefined, _a), getClassMap(button.cssClass));\r\n};\r\nexport { ActionSheet as ion_action_sheet };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar hostContext = function (selector, el) {\r\n    return el.closest(selector) !== null;\r\n};\r\n/**\r\n * Create the mode and color classes for the component based on the classes passed in\r\n */\r\nvar createColorClasses = function (color) {\r\n    var _a;\r\n    return (typeof color === 'string' && color.length > 0) ? (_a = {\r\n            'ion-color': true\r\n        },\r\n        _a[\"ion-color-\" + color] = true,\r\n        _a) : undefined;\r\n};\r\nvar getClassList = function (classes) {\r\n    if (classes !== undefined) {\r\n        var array = Array.isArray(classes) ? classes : classes.split(' ');\r\n        return array\r\n            .filter(function (c) { return c != null; })\r\n            .map(function (c) { return c.trim(); })\r\n            .filter(function (c) { return c !== ''; });\r\n    }\r\n    return [];\r\n};\r\nvar getClassMap = function (classes) {\r\n    var map = {};\r\n    getClassList(classes).forEach(function (c) { return map[c] = true; });\r\n    return map;\r\n};\r\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\r\nvar openURL = function (url, ev, direction) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var router;\r\n    return __generator(this, function (_a) {\r\n        if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\r\n            router = document.querySelector('ion-router');\r\n            if (router) {\r\n                if (ev != null) {\r\n                    ev.preventDefault();\r\n                }\r\n                return [2 /*return*/, router.push(url, direction)];\r\n            }\r\n        }\r\n        return [2 /*return*/, false];\r\n    });\r\n}); };\r\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar startHardwareBackButton = function () {\r\n    var doc = document;\r\n    var busy = false;\r\n    doc.addEventListener('backbutton', function () {\r\n        if (busy) {\r\n            return;\r\n        }\r\n        var handlers = [];\r\n        var ev = new CustomEvent('ionBackButton', {\r\n            bubbles: false,\r\n            detail: {\r\n                register: function (priority, handler) {\r\n                    handlers.push({ priority: priority, handler: handler });\r\n                }\r\n            }\r\n        });\r\n        doc.dispatchEvent(ev);\r\n        if (handlers.length > 0) {\r\n            var selectedPriority_1 = Number.MIN_SAFE_INTEGER;\r\n            var selectedHandler_1;\r\n            handlers.forEach(function (_a) {\r\n                var priority = _a.priority, handler = _a.handler;\r\n                if (priority >= selectedPriority_1) {\r\n                    selectedPriority_1 = priority;\r\n                    selectedHandler_1 = handler;\r\n                }\r\n            });\r\n            busy = true;\r\n            executeAction(selectedHandler_1).then(function () { return busy = false; });\r\n        }\r\n    });\r\n};\r\nvar executeAction = function (handler) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var result, e_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 3, , 4]);\r\n                if (!handler) return [3 /*break*/, 2];\r\n                result = handler();\r\n                if (!(result != null)) return [3 /*break*/, 2];\r\n                return [4 /*yield*/, result];\r\n            case 1:\r\n                _a.sent();\r\n                _a.label = 2;\r\n            case 2: return [3 /*break*/, 4];\r\n            case 3:\r\n                e_1 = _a.sent();\r\n                console.error(e_1);\r\n                return [3 /*break*/, 4];\r\n            case 4: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\r\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\r\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { j as config } from './core-0428d3c8.js';\r\nimport { OVERLAY_BACK_BUTTON_PRIORITY } from './hardware-back-button-d00923be.js';\r\nvar lastId = 0;\r\nvar activeAnimations = new WeakMap();\r\nvar createController = function (tagName) {\r\n    return {\r\n        create: function (options) {\r\n            return createOverlay(tagName, options);\r\n        },\r\n        dismiss: function (data, role, id) {\r\n            return dismissOverlay(document, data, role, tagName, id);\r\n        },\r\n        getTop: function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    return [2 /*return*/, getOverlay(document, tagName)];\r\n                });\r\n            });\r\n        }\r\n    };\r\n};\r\nvar alertController = /*@__PURE__*/ createController('ion-alert');\r\nvar actionSheetController = /*@__PURE__*/ createController('ion-action-sheet');\r\nvar pickerController = /*@__PURE__*/ createController('ion-picker');\r\nvar popoverController = /*@__PURE__*/ createController('ion-popover');\r\nvar prepareOverlay = function (el) {\r\n    var doc = document;\r\n    connectListeners(doc);\r\n    var overlayIndex = lastId++;\r\n    el.overlayIndex = overlayIndex;\r\n    if (!el.hasAttribute('id')) {\r\n        el.id = \"ion-overlay-\" + overlayIndex;\r\n    }\r\n};\r\nvar createOverlay = function (tagName, opts) {\r\n    return customElements.whenDefined(tagName).then(function () {\r\n        var doc = document;\r\n        var element = doc.createElement(tagName);\r\n        element.classList.add('overlay-hidden');\r\n        // convert the passed in overlay options into props\r\n        // that get passed down into the new overlay\r\n        Object.assign(element, opts);\r\n        // append the overlay element to the document body\r\n        getAppRoot(doc).appendChild(element);\r\n        return element.componentOnReady();\r\n    });\r\n};\r\nvar connectListeners = function (doc) {\r\n    if (lastId === 0) {\r\n        lastId = 1;\r\n        // trap focus inside overlays\r\n        doc.addEventListener('focusin', function (ev) {\r\n            var lastOverlay = getOverlay(doc);\r\n            if (lastOverlay && lastOverlay.backdropDismiss && !isDescendant(lastOverlay, ev.target)) {\r\n                var firstInput = lastOverlay.querySelector('input,button');\r\n                if (firstInput) {\r\n                    firstInput.focus();\r\n                }\r\n            }\r\n        });\r\n        // handle back-button click\r\n        doc.addEventListener('ionBackButton', function (ev) {\r\n            var lastOverlay = getOverlay(doc);\r\n            if (lastOverlay && lastOverlay.backdropDismiss) {\r\n                ev.detail.register(OVERLAY_BACK_BUTTON_PRIORITY, function () {\r\n                    return lastOverlay.dismiss(undefined, BACKDROP);\r\n                });\r\n            }\r\n        });\r\n        // handle ESC to close overlay\r\n        doc.addEventListener('keyup', function (ev) {\r\n            if (ev.key === 'Escape') {\r\n                var lastOverlay = getOverlay(doc);\r\n                if (lastOverlay && lastOverlay.backdropDismiss) {\r\n                    lastOverlay.dismiss(undefined, BACKDROP);\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\nvar dismissOverlay = function (doc, data, role, overlayTag, id) {\r\n    var overlay = getOverlay(doc, overlayTag, id);\r\n    if (!overlay) {\r\n        return Promise.reject('overlay does not exist');\r\n    }\r\n    return overlay.dismiss(data, role);\r\n};\r\nvar getOverlays = function (doc, selector) {\r\n    if (selector === undefined) {\r\n        selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';\r\n    }\r\n    return Array.from(doc.querySelectorAll(selector))\r\n        .filter(function (c) { return c.overlayIndex > 0; });\r\n};\r\nvar getOverlay = function (doc, overlayTag, id) {\r\n    var overlays = getOverlays(doc, overlayTag);\r\n    return (id === undefined)\r\n        ? overlays[overlays.length - 1]\r\n        : overlays.find(function (o) { return o.id === id; });\r\n};\r\nvar present = function (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, completed;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (overlay.presented) {\r\n                    return [2 /*return*/];\r\n                }\r\n                overlay.presented = true;\r\n                overlay.willPresent.emit();\r\n                animationBuilder = (overlay.enterAnimation)\r\n                    ? overlay.enterAnimation\r\n                    : config.get(name, overlay.mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);\r\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\r\n            case 1:\r\n                completed = _a.sent();\r\n                if (completed) {\r\n                    overlay.didPresent.emit();\r\n                }\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar dismiss = function (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var animationBuilder, err_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                if (!overlay.presented) {\r\n                    return [2 /*return*/, false];\r\n                }\r\n                overlay.presented = false;\r\n                _a.label = 1;\r\n            case 1:\r\n                _a.trys.push([1, 4, , 5]);\r\n                overlay.willDismiss.emit({ data: data, role: role });\r\n                animationBuilder = (overlay.leaveAnimation)\r\n                    ? overlay.leaveAnimation\r\n                    : config.get(name, overlay.mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);\r\n                if (!(role !== 'gesture')) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, overlayAnimation(overlay, animationBuilder, overlay.el, opts)];\r\n            case 2:\r\n                _a.sent();\r\n                _a.label = 3;\r\n            case 3:\r\n                overlay.didDismiss.emit({ data: data, role: role });\r\n                activeAnimations.delete(overlay);\r\n                return [3 /*break*/, 5];\r\n            case 4:\r\n                err_1 = _a.sent();\r\n                console.error(err_1);\r\n                return [3 /*break*/, 5];\r\n            case 5:\r\n                overlay.el.remove();\r\n                return [2 /*return*/, true];\r\n        }\r\n    });\r\n}); };\r\nvar getAppRoot = function (doc) {\r\n    return doc.querySelector('ion-app') || doc.body;\r\n};\r\nvar overlayAnimation = function (overlay, animationBuilder, baseEl, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var aniRoot, animation, activeAni;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                // Make overlay visible in case it's hidden\r\n                baseEl.classList.remove('overlay-hidden');\r\n                aniRoot = baseEl.shadowRoot || overlay.el;\r\n                animation = animationBuilder(aniRoot, opts);\r\n                if (!overlay.animated || !config.getBoolean('animated', true)) {\r\n                    animation.duration(0);\r\n                }\r\n                if (overlay.keyboardClose) {\r\n                    animation.beforeAddWrite(function () {\r\n                        var activeElement = baseEl.ownerDocument.activeElement;\r\n                        if (activeElement && activeElement.matches('input, ion-input, ion-textarea')) {\r\n                            activeElement.blur();\r\n                        }\r\n                    });\r\n                }\r\n                activeAni = activeAnimations.get(overlay) || [];\r\n                activeAnimations.set(overlay, __spreadArrays(activeAni, [animation]));\r\n                return [4 /*yield*/, animation.play()];\r\n            case 1:\r\n                _a.sent();\r\n                return [2 /*return*/, true];\r\n        }\r\n    });\r\n}); };\r\nvar eventMethod = function (element, eventName) {\r\n    var resolve;\r\n    var promise = new Promise(function (r) { return resolve = r; });\r\n    onceEvent(element, eventName, function (event) {\r\n        resolve(event.detail);\r\n    });\r\n    return promise;\r\n};\r\nvar onceEvent = function (element, eventName, callback) {\r\n    var handler = function (ev) {\r\n        element.removeEventListener(eventName, handler);\r\n        callback(ev);\r\n    };\r\n    element.addEventListener(eventName, handler);\r\n};\r\nvar isCancel = function (role) {\r\n    return role === 'cancel' || role === BACKDROP;\r\n};\r\nvar isDescendant = function (parent, child) {\r\n    while (child) {\r\n        if (child === parent) {\r\n            return true;\r\n        }\r\n        child = child.parentElement;\r\n    }\r\n    return false;\r\n};\r\nvar defaultGate = function (h) { return h(); };\r\nvar safeCall = function (handler, arg) {\r\n    if (typeof handler === 'function') {\r\n        var jmp = config.get('_zoneGate', defaultGate);\r\n        return jmp(function () {\r\n            try {\r\n                return handler(arg);\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        });\r\n    }\r\n    return undefined;\r\n};\r\nvar BACKDROP = 'backdrop';\r\nexport { BACKDROP as B, present as a, pickerController as b, activeAnimations as c, dismiss as d, eventMethod as e, popoverController as f, actionSheetController as g, alertController as h, isCancel as i, prepareOverlay as p, safeCall as s };\r\n"],"sourceRoot":""}